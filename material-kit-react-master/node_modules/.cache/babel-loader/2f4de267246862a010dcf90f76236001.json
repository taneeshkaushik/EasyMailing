{"ast":null,"code":"import _slicedToArray from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/app/main/reusables/PostCard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { AppBar, Avatar, Button, Card, CardActions, CardContent, CardHeader, Divider, Icon, IconButton, Input, List, ListItem, ListItemText, Paper, Toolbar, Typography } from '@material-ui/core';\nimport axiosInstance from 'app/main/axios';\nimport Grid from '@material-ui/core/Grid';\nimport Collapse from '@material-ui/core/Collapse';\nimport PostComment from './PostComment';\nimport CommentCard from './CommentCard';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    layoutHeader: _defineProperty({\n      height: 200,\n      minHeight: 200\n    }, theme.breakpoints.down('md'), {\n      height: 140,\n      minHeight: 140\n    }),\n    card: {\n      minHeight: 200\n    }\n  };\n});\nexport default function PostCard(props) {\n  var classes = useStyles();\n\n  var _React$useState = React.useState(props.item.isLiked == 0 ? false : true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      likeColor = _React$useState2[0],\n      likeSetColor = _React$useState2[1];\n\n  var liked = function liked() {\n    if (dislikeColor == true) {\n      return;\n    }\n\n    if (!likeColor) {\n      axiosInstance.post('like-clicked/', {\n        postId: props.item.id\n      }).then(function (res) {}).catch(function (err) {\n        alert(err);\n      });\n    } else {\n      axiosInstance.post('like-unclicked/', {\n        postId: props.item.id\n      }).then(function (res) {}).catch(function (err) {\n        alert(err);\n      });\n    }\n\n    likeSetColor(!likeColor);\n  };\n\n  var _React$useState3 = React.useState(props.item.isDisliked == 0 ? false : true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      dislikeColor = _React$useState4[0],\n      dislikeSetColor = _React$useState4[1];\n\n  var disliked = function disliked() {\n    if (likeColor == true) {\n      return;\n    }\n\n    if (!dislikeColor) {\n      axiosInstance.post('dislike-clicked/', {\n        postId: props.item.id\n      }).then(function (res) {}).catch(function (err) {\n        alert(err);\n      });\n    } else {\n      axiosInstance.post('dislike-unclicked/', {\n        postId: props.item.id\n      }).then(function (res) {}).catch(function (err) {\n        alert(err);\n      });\n    }\n\n    dislikeSetColor(!dislikeColor);\n  };\n\n  var _React$useState5 = React.useState(props.item.doesFollow),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isFollower = _React$useState6[0],\n      setFollower = _React$useState6[1];\n\n  var followClicked = function followClicked() {\n    axiosInstance.post('toggle-follow/', {\n      isFollower: isFollower,\n      following: props.item.posterId\n    }).then(function (res) {});\n    setFollower(!isFollower);\n  };\n\n  var _React$useState7 = React.useState([]),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      commentData = _React$useState8[0],\n      setCommentData = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      comment = _React$useState10[0],\n      setComment = _React$useState10[1];\n\n  function commentFetcher() {\n    var promise = axiosInstance.get('post-comment-list/' + props.item.id);\n    var dataPromise = promise.then(function (response) {\n      return response.data;\n    });\n    return dataPromise;\n  }\n\n  function temp() {\n    commentFetcher().then(function (data) {\n      setCommentData(data);\n      setComment(!comment);\n    });\n  }\n\n  var showComments = function showComments() {\n    alert(comment);\n    if (comment == 0) temp();else {\n      setComment(!comment);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(Card, {\n    key: props.item.id,\n    className: classes.card + \" mb-32 overflow-hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(CardHeader, {\n    avatar: React.createElement(Avatar, {\n      \"aria-label\": \"Recipe\",\n      alt: props.item.posterName[0].toUpperCase(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }) // this is 3 dots in upperRight\n    ,\n    action: React.createElement(IconButton, {\n      \"aria-label\": \"more\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"more_vert\")),\n    title: props.item.title,\n    subheader: props.item.posterName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), React.createElement(CardContent, {\n    className: \"py-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: props.item.body\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  })), React.createElement(CardActions, {\n    disableSpacing: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: liked,\n    color: likeColor ? \"secondary\" : \"primary\",\n    size: \"small\",\n    \"aria-label\": \"Like\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    className: \"text-16 mr-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, \"thumb_up\"), React.createElement(Typography, {\n    className: \"normal-case\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, \"Like\"), React.createElement(Typography, {\n    className: \"normal-case ml-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, \"(\", props.item.likes, \")\")), React.createElement(Button, {\n    onClick: disliked,\n    color: dislikeColor ? \"secondary\" : \"primary\",\n    size: \"small\",\n    \"aria-label\": \"Dislike\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    className: \"text-16 mr-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"thumb_down\"), React.createElement(Typography, {\n    className: \"normal-case\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, \"Dislike\"), React.createElement(Typography, {\n    className: \"normal-case ml-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, \"(\", props.item.dislikes, \")\")), React.createElement(Button, {\n    \"aria-label\": \"Add to favorites\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    className: \"text-16 mr-8\",\n    onClick: followClicked,\n    color: isFollower ? \"primary\" : \"default\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, \"favorite\"), React.createElement(Typography, {\n    className: \"normal-case\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, \"Share\"), React.createElement(Typography, {\n    className: \"normal-case ml-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, \"(\", props.shares, \")\")), React.createElement(Button, {\n    \"aria-label\": \"Favorite\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    className: \"text-16 mr-8\",\n    color: \"action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, \"comment\"), React.createElement(Typography, {\n    className: \"normal-case\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, \"Share\"), React.createElement(Typography, {\n    className: \"normal-case ml-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, \"(\", props.shares, \")\"))), React.createElement(AppBar, {\n    className: \"card-footer flex flex-column p-16\",\n    position: \"static\",\n    color: \"default\",\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: showComments,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, \"comments\", React.createElement(Icon, {\n    className: \"text-16 ml-4\",\n    color: \"action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, \"keyboard_arrow_down\"))), React.createElement(Collapse, {\n    in: comment,\n    timeout: \"auto\",\n    unmountOnExit: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(PostComment, {\n    comment: comment,\n    setComment: setComment.bind(this),\n    postId: props.item.id,\n    parentCommentId: null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }), commentData.length > 0 ? React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, commentData.map(function (index) {\n    return React.createElement(CommentCard, {\n      item: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    });\n  })) : null))));\n}","map":{"version":3,"sources":["/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/app/main/reusables/PostCard.js"],"names":["React","useState","useEffect","makeStyles","AppBar","Avatar","Button","Card","CardActions","CardContent","CardHeader","Divider","Icon","IconButton","Input","List","ListItem","ListItemText","Paper","Toolbar","Typography","axiosInstance","Grid","Collapse","PostComment","CommentCard","useStyles","theme","layoutHeader","height","minHeight","breakpoints","down","card","PostCard","props","classes","item","isLiked","likeColor","likeSetColor","liked","dislikeColor","post","postId","id","then","res","catch","err","alert","isDisliked","dislikeSetColor","disliked","doesFollow","isFollower","setFollower","followClicked","following","posterId","commentData","setCommentData","comment","setComment","commentFetcher","promise","get","dataPromise","response","data","temp","showComments","posterName","toUpperCase","title","__html","body","likes","dislikes","shares","bind","length","map","index"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {makeStyles} from '@material-ui/styles';\n\n\nimport {\n    AppBar,\n    Avatar,\n    Button,\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader,\n    Divider,\n    Icon,\n    IconButton,\n    Input,\n    List,\n    ListItem,\n    ListItemText,\n    Paper,\n    Toolbar,\n    Typography\n} from '@material-ui/core';\n\nimport axiosInstance from 'app/main/axios';\nimport Grid from '@material-ui/core/Grid';\nimport Collapse from '@material-ui/core/Collapse';\nimport PostComment from './PostComment';\nimport CommentCard from './CommentCard';\n\nconst useStyles = makeStyles(theme => ({\n    layoutHeader: {\n        height                        : 200,\n        minHeight                     : 200,\n        [theme.breakpoints.down('md')]: {\n            height   : 140,\n            minHeight: 140\n        }\n    }\n    ,\n    card: {\n\n        minHeight                     : 200,\n    }\n}));\n\n\n\nexport  default function PostCard(props)\n{\n\n    const classes = useStyles();\n\n\n    const [likeColor, likeSetColor] = React.useState(props.item.isLiked == 0 ? false : true);\n    const liked = () => {\n\n       \n\n        if (dislikeColor == true) \n        {\n            return;\n        }\n        if (!likeColor) \n        {\n            axiosInstance.post('like-clicked/', { postId: props.item.id })\n            .then((res) => {\n            \n            })\n            .catch((err) => {\n                alert(err);\n            });\n        }\n\n        else \n        {\n            axiosInstance.post('like-unclicked/', { postId: props.item.id })\n            .then((res) => {\n            \n            })\n            .catch((err) => {\n                alert(err)\n            });\n        }\n\n        likeSetColor(!likeColor);\n    }\n\n\n    const [dislikeColor, dislikeSetColor] = React.useState(props.item.isDisliked == 0 ? false : true);\n    const disliked = () => {\n    \n        if (likeColor == true) \n        {\n            return;\n        }\n\n        if (!dislikeColor) {\n            axiosInstance.post('dislike-clicked/', { postId: props.item.id })\n            .then((res) => {\n            \n            })\n            .catch((err) => {\n            alert(err)\n            });\n\n        }\n        else {\n            axiosInstance.post('dislike-unclicked/', { postId: props.item.id })\n            .then((res) => {\n            })\n            .catch((err) => {\n            alert(err)\n            });\n        }\n\n        dislikeSetColor(!dislikeColor);\n  }\n\n  const [isFollower,setFollower]=React.useState(props.item.doesFollow);\n  const followClicked= ()=>\n  {   \n\n    axiosInstance.post('toggle-follow/', {isFollower:isFollower, following:props.item.posterId}).then((res)=>\n    {\n      \n    })\n    setFollower(!isFollower)\n  }\n\n  const [commentData, setCommentData] = React.useState([])\n  const [comment, setComment] = React.useState(false);\n\n  function commentFetcher() \n  {\n    const promise = axiosInstance.get('post-comment-list/' + props.item.id);\n    const dataPromise = promise.then((response) => response.data);\n    return dataPromise;\n  }\n\n  function temp() {\n      commentFetcher().then(data => {\n      setCommentData(data)\n      setComment(!comment)\n      \n    })\n  }\n\nconst showComments = () => \n{\n    alert(comment)\n  if (comment == 0)\n    temp();\n    else \n    {\n        setComment(!comment);\n    }\n};\n\n    return(\n    <div>\n        <Card key={props.item.id} className= {classes.card + \" mb-32 overflow-hidden\"}>\n            <CardHeader\n                avatar={\n                    <Avatar aria-label=\"Recipe\" alt={props.item.posterName[0].toUpperCase()}/>\n                }\n                // this is 3 dots in upperRight\n                action={\n                    <IconButton aria-label=\"more\">\n                        <Icon>more_vert</Icon>\n                    </IconButton>\n                }\n                title={props.item.title}\n                subheader={props.item.posterName}\n            />\n\n            <CardContent className=\"py-0\">\n                { <div dangerouslySetInnerHTML={{ __html: props.item.body }} />}\n            </CardContent>\n\n            <CardActions disableSpacing>\n                <Button onClick={liked} color={likeColor ? \"secondary\":\"primary\"} size=\"small\" aria-label=\"Like\">\n                    <Icon className=\"text-16 mr-8\" >thumb_up</Icon>\n                    <Typography className=\"normal-case\">Like</Typography>\n                    <Typography className=\"normal-case ml-4\">({props.item.likes})</Typography>\n                </Button>\n\n                <Button onClick={disliked} color={dislikeColor ? \"secondary\":\"primary\"} size=\"small\" aria-label=\"Dislike\">\n                    <Icon  className=\"text-16 mr-8\" >thumb_down</Icon>\n                    <Typography className=\"normal-case\">Dislike</Typography>\n                    <Typography className=\"normal-case ml-4\">({props.item.dislikes})</Typography>\n                </Button>\n                <Button aria-label=\"Add to favorites\">\n                    <Icon  className=\"text-16 mr-8\" onClick={followClicked} color={isFollower? \"primary\" : \"default\"} >favorite</Icon>\n                    <Typography className=\"normal-case\">Share</Typography>\n                    <Typography className=\"normal-case ml-4\">({props.shares})</Typography>\n                </Button>\n\n                <Button aria-label=\"Favorite\">\n                    <Icon className=\"text-16 mr-8\" color=\"action\">comment</Icon>\n                    <Typography className=\"normal-case\">Share</Typography>\n                    <Typography className=\"normal-case ml-4\">({props.shares})</Typography>\n                </Button>\n\n            </CardActions>\n            <AppBar className=\"card-footer flex flex-column p-16\" position=\"static\" color=\"default\" elevation={0}>\n                <div className=\"flex items-center\">\n                    <Button onClick={showComments}>\n                         comments\n                        <Icon className=\"text-16 ml-4\" color=\"action\">keyboard_arrow_down</Icon>\n\n                    </Button>\n                </div>\n                \n                <Collapse in={comment} timeout=\"auto\" unmountOnExit>\n                \n                    <PostComment comment={comment} setComment={setComment.bind(this)} postId={props.item.id} parentCommentId={null} />\n                    \n                    {commentData.length > 0 ?  <List >{commentData.map((index)=> (<CommentCard item = {index}  />))}</List>:null}\n                 </Collapse>\n            </AppBar>\n\n          \n        </Card>\n    </div>\n                            );\n}\n\n"]},"metadata":{},"sourceType":"module"}