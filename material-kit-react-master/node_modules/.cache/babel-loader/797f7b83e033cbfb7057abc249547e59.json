{"ast":null,"code":"import _objectSpread from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/app/main/login/JWTLoginTab.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Button, Divider, Typography, InputAdornment, Icon } from '@material-ui/core';\nimport { TextFieldFormsy } from '@fuse';\nimport Formsy from 'formsy-react';\nimport * as authActions from 'app/auth/store/actions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction JWTLoginTab(props) {\n  var dispatch = useDispatch();\n  var login = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.login;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFormValid = _useState2[0],\n      setIsFormValid = _useState2[1];\n\n  var formRef = useRef(null);\n  useEffect(function () {\n    if (login.error && (login.error.email || login.error.password)) {\n      formRef.current.updateInputsWithError(_objectSpread({}, login.error));\n      disableButton();\n    }\n  }, [login.error]);\n\n  function disableButton() {\n    setIsFormValid(false);\n  }\n\n  function enableButton() {\n    setIsFormValid(true);\n  }\n\n  function handleSubmit(model) {\n    console.log(model);\n    dispatch(authActions.submitLogin(model));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"w-full\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Formsy, {\n    onValidSubmit: handleSubmit,\n    onValid: enableButton,\n    onInvalid: disableButton,\n    ref: formRef,\n    className: \"flex flex-col justify-center w-full\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(TextFieldFormsy, {\n    className: \"mb-16\",\n    type: \"text\",\n    name: \"email\",\n    label: \"Username/\",\n    validations: {\n      minLength: 4\n    },\n    validationErrors: {\n      minLength: 'Min character length is 4'\n    },\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        className: \"text-20\",\n        color: \"action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"email\"))\n    },\n    variant: \"outlined\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(TextFieldFormsy, {\n    className: \"mb-16\",\n    type: \"password\",\n    name: \"password\",\n    label: \"Password\",\n    validations: {\n      minLength: 4\n    },\n    validationErrors: {\n      minLength: 'Min character length is 4'\n    },\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        className: \"text-20\",\n        color: \"action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"vpn_key\"))\n    },\n    variant: \"outlined\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: \"w-full mx-auto mt-16 normal-case\",\n    \"aria-label\": \"LOG IN\",\n    disabled: !isFormValid,\n    value: \"legacy\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Login\")), React.createElement(\"div\", {\n    className: \"flex flex-col items-center pt-24\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: \"text-14 font-600 py-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Credentials\"), React.createElement(Divider, {\n    className: \"mb-16 w-256\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(\"table\", {\n    className: \"text-left w-256\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: \"font-600\",\n    color: \"textSecondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Role\")), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: \"font-600\",\n    color: \"textSecondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Username\")), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: \"font-600\",\n    color: \"textSecondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Password\")))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Admin\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"admin\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"admin\"))), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"Staff\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"staff\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"staff\")))))));\n}\n\nexport default JWTLoginTab;","map":{"version":3,"sources":["/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/app/main/login/JWTLoginTab.js"],"names":["React","useEffect","useRef","useState","Button","Divider","Typography","InputAdornment","Icon","TextFieldFormsy","Formsy","authActions","useDispatch","useSelector","JWTLoginTab","props","dispatch","login","auth","isFormValid","setIsFormValid","formRef","error","email","password","current","updateInputsWithError","disableButton","enableButton","handleSubmit","model","console","log","submitLogin","minLength","endAdornment"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport {Button, Divider, Typography, InputAdornment, Icon} from '@material-ui/core';\nimport {TextFieldFormsy} from '@fuse';\nimport Formsy from 'formsy-react';\nimport * as authActions from 'app/auth/store/actions';\nimport {useDispatch, useSelector} from 'react-redux';\n\nfunction JWTLoginTab(props)\n{\n    const dispatch = useDispatch();\n    const login = useSelector(({auth}) => auth.login);\n\n    const [isFormValid, setIsFormValid] = useState(false);\n    const formRef = useRef(null);\n\n    useEffect(() => {\n        if ( login.error && (login.error.email || login.error.password) )\n        {\n            formRef.current.updateInputsWithError({\n                ...login.error\n            });\n            disableButton();\n        }\n    }, [login.error]);\n\n    function disableButton()\n    {\n        setIsFormValid(false);\n    }\n\n    function enableButton()\n    {\n        setIsFormValid(true);\n    }\n\n    function handleSubmit(model)\n    {\n        console.log(model);\n        dispatch(authActions.submitLogin(model));\n    }\n    return (\n        <div className=\"w-full\">\n            <Formsy\n                onValidSubmit={handleSubmit}\n                onValid={enableButton}\n                onInvalid={disableButton}\n                ref={formRef}\n                className=\"flex flex-col justify-center w-full\"\n            >\n                <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"text\"\n                    name=\"email\"\n                    label=\"Username/\"\n                    validations={{\n                        minLength: 4\n                    }}\n                    validationErrors={{\n                        minLength: 'Min character length is 4'\n                    }}\n                    InputProps={{\n                        endAdornment: <InputAdornment position=\"end\"><Icon className=\"text-20\" color=\"action\">email</Icon></InputAdornment>\n                    }}\n                    variant=\"outlined\"\n                    required\n                />\n\n                <TextFieldFormsy\n                    className=\"mb-16\"\n                    type=\"password\"\n                    name=\"password\"\n                    label=\"Password\"\n                    validations={{\n                        minLength: 4\n                    }}\n                    validationErrors={{\n                        minLength: 'Min character length is 4'\n                    }}\n                    InputProps={{\n                        endAdornment: <InputAdornment position=\"end\"><Icon className=\"text-20\" color=\"action\">vpn_key</Icon></InputAdornment>\n                    }}\n                    variant=\"outlined\"\n                    required\n                />\n\n                <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className=\"w-full mx-auto mt-16 normal-case\"\n                    aria-label=\"LOG IN\"\n                    disabled={!isFormValid}\n                    value=\"legacy\"\n                >\n                    Login\n                </Button>\n\n            </Formsy>\n\n            <div className=\"flex flex-col items-center pt-24\">\n                <Typography className=\"text-14 font-600 py-8\">\n                    Credentials\n                </Typography>\n\n                <Divider className=\"mb-16 w-256\"/>\n\n                <table className=\"text-left w-256\">\n                    <thead>\n                        <tr>\n                            <th><Typography className=\"font-600\" color=\"textSecondary\">Role</Typography></th>\n                            <th><Typography className=\"font-600\" color=\"textSecondary\">Username</Typography></th>\n                            <th><Typography className=\"font-600\" color=\"textSecondary\">Password</Typography></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td><Typography>Admin</Typography></td>\n                            <td><Typography>admin</Typography></td>\n                            <td><Typography>admin</Typography></td>\n                        </tr>\n                        <tr>\n                            <td><Typography>Staff</Typography></td>\n                            <td><Typography>staff</Typography></td>\n                            <td><Typography>staff</Typography></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n\n        </div>\n    );\n}\n\nexport default JWTLoginTab;\n"]},"metadata":{},"sourceType":"module"}