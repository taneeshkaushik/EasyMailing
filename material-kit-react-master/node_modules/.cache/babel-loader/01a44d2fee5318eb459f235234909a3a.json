{"ast":null,"code":"import _slicedToArray from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/@fuse/components/FuseSearch/FuseSearch.js\";\nimport React, { useEffect, useReducer, useRef } from 'react';\nimport { Popper, ClickAwayListener, MenuItem, Icon, IconButton, ListItemIcon, ListItemText, Paper, TextField, Tooltip, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { useSelector } from 'react-redux';\nimport { FuseUtils } from '@fuse';\nimport clsx from 'clsx';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport { withRouter } from 'react-router-dom';\nimport deburr from 'lodash/deburr';\nimport Autosuggest from 'react-autosuggest';\n\nfunction renderInputComponent(inputProps) {\n  var variant = inputProps.variant,\n      classes = inputProps.classes,\n      _inputProps$inputRef = inputProps.inputRef,\n      _inputRef = _inputProps$inputRef === void 0 ? function () {} : _inputProps$inputRef,\n      ref = inputProps.ref,\n      other = _objectWithoutProperties(inputProps, [\"variant\", \"classes\", \"inputRef\", \"ref\"]);\n\n  return React.createElement(\"div\", {\n    className: \"w-full relative\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, variant === \"basic\" ? // Outlined\n  React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(TextField, Object.assign({\n    fullWidth: true,\n    InputProps: {\n      inputRef: function inputRef(node) {\n        ref(node);\n\n        _inputRef(node);\n      },\n      classes: {\n        input: clsx(classes.input, \"py-0 px-16 h-48 pr-48\"),\n        notchedOutline: \"rounded-8\"\n      }\n    },\n    variant: \"outlined\"\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  })), React.createElement(Icon, {\n    className: \"absolute top-0 right-0 h-48 w-48 p-12 pointer-events-none\",\n    color: \"action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"search\")) : // Standard\n  React.createElement(TextField, Object.assign({\n    fullWidth: true,\n    InputProps: {\n      disableUnderline: true,\n      inputRef: function inputRef(node) {\n        ref(node);\n\n        _inputRef(node);\n      },\n      classes: {\n        input: clsx(classes.input, \"py-0 px-16 h-64\")\n      }\n    },\n    variant: \"standard\"\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })));\n}\n\nfunction renderSuggestion(suggestion, _ref) {\n  var query = _ref.query,\n      isHighlighted = _ref.isHighlighted;\n  var matches = match(suggestion.title, query);\n  var parts = parse(suggestion.title, matches);\n  return React.createElement(MenuItem, {\n    selected: isHighlighted,\n    component: \"div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(ListItemIcon, {\n    className: \"min-w-40\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, suggestion.icon ? React.createElement(Icon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, suggestion.icon) : React.createElement(\"span\", {\n    className: \"text-20 w-24 font-bold uppercase text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, suggestion.title[0])), React.createElement(ListItemText, {\n    className: \"pl-0\",\n    primary: parts.map(function (part, index) {\n      return part.highlight ? React.createElement(\"span\", {\n        key: String(index),\n        style: {\n          fontWeight: 600\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, part.text) : React.createElement(\"strong\", {\n        key: String(index),\n        style: {\n          fontWeight: 300\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, part.text);\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }));\n}\n\nfunction getSuggestions(value, data) {\n  var inputValue = deburr(value.trim()).toLowerCase();\n  var inputLength = inputValue.length;\n  var count = 0;\n  return inputLength === 0 ? [] : data.filter(function (suggestion) {\n    var keep = count < 10 && match(suggestion.title, inputValue).length > 0;\n\n    if (keep) {\n      count += 1;\n    }\n\n    return keep;\n  });\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.title;\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    container: {\n      position: 'relative'\n    },\n    suggestionsContainerOpen: {\n      position: 'absolute',\n      zIndex: 1,\n      marginTop: theme.spacing(),\n      left: 0,\n      right: 0\n    },\n    suggestion: {\n      display: 'block'\n    },\n    suggestionsList: {\n      margin: 0,\n      padding: 0,\n      listStyleType: 'none'\n    },\n    input: {\n      transition: theme.transitions.create(['background-color'], {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.short\n      }),\n      '&:focus': {\n        backgroundColor: theme.palette.background.paper\n      }\n    }\n  };\n});\nvar initialState = {\n  searchText: '',\n  search: false,\n  navigation: null,\n  suggestions: [],\n  noSuggestions: false\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'open':\n      {\n        return _objectSpread({}, state, {\n          opened: true\n        });\n      }\n\n    case 'close':\n      {\n        return _objectSpread({}, state, {\n          opened: false,\n          searchText: ''\n        });\n      }\n\n    case 'setSearchText':\n      {\n        return _objectSpread({}, state, {\n          searchText: action.value\n        });\n      }\n\n    case 'setNavigation':\n      {\n        return _objectSpread({}, state, {\n          navigation: action.value\n        });\n      }\n\n    case 'updateSuggestions':\n      {\n        var suggestions = getSuggestions(action.value, state.navigation);\n        var isInputBlank = action.value.trim() === '';\n        var noSuggestions = !isInputBlank && suggestions.length === 0;\n        return _objectSpread({}, state, {\n          suggestions: suggestions,\n          noSuggestions: noSuggestions\n        });\n      }\n\n    case 'clearSuggestions':\n      {\n        return _objectSpread({}, state, {\n          suggestions: [],\n          noSuggestions: false\n        });\n      }\n\n    case 'decrement':\n      {\n        return {\n          count: state.count - 1\n        };\n      }\n\n    default:\n      {\n        throw new Error();\n      }\n  }\n}\n\nfunction FuseSearch(props) {\n  var userRole = useSelector(function (_ref2) {\n    var auth = _ref2.auth;\n    return auth.user.role;\n  });\n  var navigation = useSelector(function (_ref3) {\n    var fuse = _ref3.fuse;\n    return fuse.navigation;\n  });\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var classes = useStyles(props);\n  var suggestionsNode = useRef(null);\n  var popperNode = useRef(null);\n  useEffect(function () {\n    function itemAuthAllowed(item) {\n      return FuseUtils.hasPermission(item.auth, userRole);\n    }\n\n    function setNavigation() {\n      dispatch({\n        type: \"setNavigation\",\n        value: FuseUtils.getFlatNavigation(navigation).filter(function (item) {\n          return itemAuthAllowed(item);\n        })\n      });\n    }\n\n    setNavigation();\n  }, [userRole, navigation]);\n\n  function showSearch() {\n    dispatch({\n      type: \"open\"\n    });\n    document.addEventListener(\"keydown\", escFunction, false);\n  }\n\n  function hideSearch() {\n    dispatch({\n      type: \"close\"\n    });\n    document.removeEventListener(\"keydown\", escFunction, false);\n  }\n\n  function escFunction(event) {\n    if (event.keyCode === 27) {\n      hideSearch();\n    }\n  }\n\n  function handleSuggestionsFetchRequested(_ref4) {\n    var value = _ref4.value;\n    dispatch({\n      type: \"updateSuggestions\",\n      value: value\n    });\n  }\n\n  function handleSuggestionSelected(event, _ref5) {\n    var suggestion = _ref5.suggestion;\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (!suggestion.url) {\n      return;\n    }\n\n    props.history.push(suggestion.url);\n    hideSearch();\n  }\n\n  function handleSuggestionsClearRequested() {\n    dispatch({\n      type: \"clearSuggestions\"\n    });\n  }\n\n  function handleChange(event) {\n    dispatch({\n      type: \"setSearchText\",\n      value: event.target.value\n    });\n  }\n\n  function handleClickAway(event) {\n    return (!suggestionsNode.current || !suggestionsNode.current.contains(event.target)) && hideSearch();\n  }\n\n  var autosuggestProps = {\n    renderInputComponent: renderInputComponent,\n    highlightFirstSuggestion: true,\n    suggestions: state.suggestions,\n    onSuggestionsFetchRequested: handleSuggestionsFetchRequested,\n    onSuggestionsClearRequested: handleSuggestionsClearRequested,\n    onSuggestionSelected: handleSuggestionSelected,\n    getSuggestionValue: getSuggestionValue,\n    renderSuggestion: renderSuggestion\n  };\n\n  switch (props.variant) {\n    case 'basic':\n      {\n        return React.createElement(\"div\", {\n          className: clsx(\"flex items-center w-full\", props.className),\n          ref: popperNode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339\n          },\n          __self: this\n        }, React.createElement(Autosuggest, Object.assign({}, autosuggestProps, {\n          inputProps: {\n            variant: props.variant,\n            classes: classes,\n            placeholder: 'Search',\n            value: state.searchText,\n            onChange: handleChange,\n            onFocus: showSearch,\n            InputLabelProps: {\n              shrink: true\n            },\n            autoFocus: false\n          },\n          theme: {\n            container: \"flex flex-1 w-full\",\n            suggestionsList: classes.suggestionsList,\n            suggestion: classes.suggestion\n          },\n          renderSuggestionsContainer: function renderSuggestionsContainer(options) {\n            return React.createElement(Popper, {\n              anchorEl: popperNode.current,\n              open: Boolean(options.children) || state.noSuggestions,\n              popperOptions: {\n                positionFixed: true\n              },\n              className: \"z-9999\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 360\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              ref: suggestionsNode,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 366\n              },\n              __self: this\n            }, React.createElement(Paper, Object.assign({\n              elevation: 1,\n              square: true\n            }, options.containerProps, {\n              style: {\n                width: popperNode.current ? popperNode.current.clientWidth : null\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 367\n              },\n              __self: this\n            }), options.children, state.noSuggestions && React.createElement(Typography, {\n              className: \"px-16 py-12\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 375\n              },\n              __self: this\n            }, \"No results..\"))));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340\n          },\n          __self: this\n        })));\n      }\n\n    case 'full':\n      {\n        return React.createElement(\"div\", {\n          className: clsx(classes.root, \"flex\", props.className),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          title: \"Click to search\",\n          placement: \"bottom\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 392\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          onClick: showSearch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        }, props.trigger)), state.opened && React.createElement(ClickAwayListener, {\n          onClickAway: handleClickAway,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399\n          },\n          __self: this\n        }, React.createElement(Paper, {\n          className: \"absolute left-0 right-0 h-full z-9999\",\n          square: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 400\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"flex items-center w-full\",\n          ref: popperNode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 404\n          },\n          __self: this\n        }, React.createElement(Autosuggest, Object.assign({}, autosuggestProps, {\n          inputProps: {\n            classes: classes,\n            placeholder: 'Search',\n            value: state.searchText,\n            onChange: handleChange,\n            InputLabelProps: {\n              shrink: true\n            },\n            autoFocus: true\n          },\n          theme: {\n            container: \"flex flex-1 w-full\",\n            suggestionsList: classes.suggestionsList,\n            suggestion: classes.suggestion\n          },\n          renderSuggestionsContainer: function renderSuggestionsContainer(options) {\n            return React.createElement(Popper, {\n              anchorEl: popperNode.current,\n              open: Boolean(options.children) || state.noSuggestions,\n              popperOptions: {\n                positionFixed: true\n              },\n              className: \"z-9999\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 423\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              ref: suggestionsNode,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 429\n              },\n              __self: this\n            }, React.createElement(Paper, Object.assign({\n              elevation: 1,\n              square: true\n            }, options.containerProps, {\n              style: {\n                width: popperNode.current ? popperNode.current.clientWidth : null\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 430\n              },\n              __self: this\n            }), options.children, state.noSuggestions && React.createElement(Typography, {\n              className: \"px-16 py-12\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 438\n              },\n              __self: this\n            }, \"No results..\"))));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405\n          },\n          __self: this\n        })), React.createElement(IconButton, {\n          onClick: hideSearch,\n          className: \"mx-8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 447\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 448\n          },\n          __self: this\n        }, \"close\"))))));\n      }\n\n    default:\n      {\n        return null;\n      }\n  }\n}\n\nFuseSearch.propTypes = {};\nFuseSearch.defaultProps = {\n  trigger: React.createElement(IconButton, {\n    className: \"w-64 h-64\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466\n    },\n    __self: this\n  }, \"search\")),\n  variant: 'full' // basic, full\n\n};\nexport default withRouter(React.memo(FuseSearch));","map":{"version":3,"sources":["/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/@fuse/components/FuseSearch/FuseSearch.js"],"names":["React","useEffect","useReducer","useRef","Popper","ClickAwayListener","MenuItem","Icon","IconButton","ListItemIcon","ListItemText","Paper","TextField","Tooltip","Typography","makeStyles","useSelector","FuseUtils","clsx","match","parse","withRouter","deburr","Autosuggest","renderInputComponent","inputProps","variant","classes","inputRef","ref","other","node","input","notchedOutline","disableUnderline","renderSuggestion","suggestion","query","isHighlighted","matches","title","parts","icon","map","part","index","highlight","String","fontWeight","text","getSuggestions","value","data","inputValue","trim","toLowerCase","inputLength","length","count","filter","keep","getSuggestionValue","useStyles","theme","root","container","position","suggestionsContainerOpen","zIndex","marginTop","spacing","left","right","display","suggestionsList","margin","padding","listStyleType","transition","transitions","create","easing","easeInOut","duration","short","backgroundColor","palette","background","paper","initialState","searchText","search","navigation","suggestions","noSuggestions","reducer","state","action","type","opened","isInputBlank","Error","FuseSearch","props","userRole","auth","user","role","fuse","dispatch","suggestionsNode","popperNode","itemAuthAllowed","item","hasPermission","setNavigation","getFlatNavigation","showSearch","document","addEventListener","escFunction","hideSearch","removeEventListener","event","keyCode","handleSuggestionsFetchRequested","handleSuggestionSelected","preventDefault","stopPropagation","url","history","push","handleSuggestionsClearRequested","handleChange","target","handleClickAway","current","contains","autosuggestProps","highlightFirstSuggestion","onSuggestionsFetchRequested","onSuggestionsClearRequested","onSuggestionSelected","className","placeholder","onChange","onFocus","InputLabelProps","shrink","autoFocus","options","Boolean","children","positionFixed","containerProps","width","clientWidth","trigger","propTypes","defaultProps","memo"],"mappings":"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","sourcesContent":["import React, {useEffect, useReducer, useRef} from 'react';\nimport {Popper, ClickAwayListener, MenuItem, Icon, IconButton, ListItemIcon, ListItemText, Paper, TextField, Tooltip, Typography} from '@material-ui/core';\nimport {makeStyles} from '@material-ui/styles';\nimport {useSelector} from 'react-redux';\nimport {FuseUtils} from '@fuse';\nimport clsx from 'clsx';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport {withRouter} from 'react-router-dom';\nimport deburr from 'lodash/deburr';\nimport Autosuggest from 'react-autosuggest';\n\nfunction renderInputComponent(inputProps)\n{\n    const {\n        variant,\n        classes, inputRef = () => {\n        }, ref, ...other\n    } = inputProps;\n    return (\n        <div className=\"w-full relative\">\n            {variant === \"basic\" ? (\n                    // Outlined\n                    <React.Fragment>\n                        <TextField\n                            fullWidth\n                            InputProps={{\n                                inputRef: node => {\n                                    ref(node);\n                                    inputRef(node);\n                                },\n                                classes : {\n                                    input         : clsx(classes.input, \"py-0 px-16 h-48 pr-48\"),\n                                    notchedOutline: \"rounded-8\"\n                                }\n                            }}\n                            variant=\"outlined\"\n                            {...other}\n                        />\n                        <Icon className=\"absolute top-0 right-0 h-48 w-48 p-12 pointer-events-none\" color=\"action\">search</Icon>\n                    </React.Fragment>\n                )\n                :\n                (\n                    // Standard\n                    <TextField\n                        fullWidth\n                        InputProps={{\n                            disableUnderline: true,\n                            inputRef        : node => {\n                                ref(node);\n                                inputRef(node);\n                            },\n                            classes         : {\n                                input: clsx(classes.input, \"py-0 px-16 h-64\")\n                            }\n                        }}\n                        variant=\"standard\"\n                        {...other}\n                    />\n                )}\n        </div>\n    );\n}\n\nfunction renderSuggestion(suggestion, {query, isHighlighted})\n{\n    const matches = match(suggestion.title, query);\n    const parts = parse(suggestion.title, matches);\n\n    return (\n        <MenuItem selected={isHighlighted} component=\"div\">\n            <ListItemIcon className=\"min-w-40\">\n                {suggestion.icon ?\n                    (\n                        <Icon>{suggestion.icon}</Icon>\n                    ) :\n                    (\n                        <span className=\"text-20 w-24 font-bold uppercase text-center\">{suggestion.title[0]}</span>\n                    )\n                }\n            </ListItemIcon>\n            <ListItemText\n                className=\"pl-0\"\n                primary={\n                    parts.map((part, index) => {\n                        return part.highlight ? (\n                            <span key={String(index)} style={{fontWeight: 600}}>\n                                {part.text}\n                            </span>\n                        ) : (\n                            <strong key={String(index)} style={{fontWeight: 300}}>\n                                {part.text}\n                            </strong>\n                        );\n                    })\n                }\n            />\n        </MenuItem>\n    );\n}\n\nfunction getSuggestions(value, data)\n{\n    const inputValue = deburr(value.trim()).toLowerCase();\n    const inputLength = inputValue.length;\n    let count = 0;\n\n    return inputLength === 0\n        ? []\n        : data.filter(suggestion => {\n            const keep =\n                count < 10 &&\n                match(suggestion.title, inputValue).length > 0;\n\n            if ( keep )\n            {\n                count += 1;\n            }\n\n            return keep;\n        });\n}\n\nfunction getSuggestionValue(suggestion)\n{\n    return suggestion.title;\n}\n\nconst useStyles = makeStyles(theme => ({\n    root                    : {},\n    container               : {\n        position: 'relative'\n    },\n    suggestionsContainerOpen: {\n        position : 'absolute',\n        zIndex   : 1,\n        marginTop: theme.spacing(),\n        left     : 0,\n        right    : 0\n    },\n    suggestion              : {\n        display: 'block'\n    },\n    suggestionsList         : {\n        margin       : 0,\n        padding      : 0,\n        listStyleType: 'none'\n    },\n    input                   : {\n        transition: theme.transitions.create(['background-color'], {\n            easing  : theme.transitions.easing.easeInOut,\n            duration: theme.transitions.duration.short\n        }),\n        '&:focus' : {\n            backgroundColor: theme.palette.background.paper\n        }\n    }\n}));\n\nconst initialState = {\n    searchText   : '',\n    search       : false,\n    navigation   : null,\n    suggestions  : [],\n    noSuggestions: false\n};\n\nfunction reducer(state, action)\n{\n    switch ( action.type )\n    {\n        case 'open':\n        {\n            return {\n                ...state,\n                opened: true\n            };\n        }\n        case 'close':\n        {\n            return {\n                ...state,\n                opened    : false,\n                searchText: ''\n            };\n        }\n        case 'setSearchText':\n        {\n            return {\n                ...state,\n                searchText: action.value\n            };\n        }\n        case 'setNavigation':\n        {\n            return {\n                ...state,\n                navigation: action.value\n            };\n        }\n        case 'updateSuggestions':\n        {\n            const suggestions = getSuggestions(action.value, state.navigation);\n            const isInputBlank = action.value.trim() === '';\n            const noSuggestions = !isInputBlank && suggestions.length === 0;\n\n            return {\n                ...state,\n                suggestions,\n                noSuggestions\n            };\n        }\n        case 'clearSuggestions':\n        {\n            return {\n                ...state,\n                suggestions  : [],\n                noSuggestions: false\n            };\n        }\n        case 'decrement':\n        {\n            return {count: state.count - 1};\n        }\n        default:\n        {\n            throw new Error();\n        }\n    }\n}\n\nfunction FuseSearch(props)\n{\n    const userRole = useSelector(({auth}) => auth.user.role);\n    const navigation = useSelector(({fuse}) => fuse.navigation);\n\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const classes = useStyles(props);\n    const suggestionsNode = useRef(null);\n    const popperNode = useRef(null);\n\n    useEffect(() => {\n        function itemAuthAllowed(item)\n        {\n            return FuseUtils.hasPermission(item.auth, userRole)\n        }\n\n        function setNavigation()\n        {\n            dispatch({\n                type : \"setNavigation\",\n                value: FuseUtils.getFlatNavigation(navigation).filter(item => itemAuthAllowed(item))\n            });\n        }\n\n        setNavigation();\n    }, [userRole, navigation]);\n\n    function showSearch()\n    {\n        dispatch({type: \"open\"});\n        document.addEventListener(\"keydown\", escFunction, false);\n    }\n\n    function hideSearch()\n    {\n        dispatch({type: \"close\"});\n        document.removeEventListener(\"keydown\", escFunction, false);\n    }\n\n    function escFunction(event)\n    {\n        if ( event.keyCode === 27 )\n        {\n            hideSearch();\n        }\n    }\n\n    function handleSuggestionsFetchRequested({value})\n    {\n        dispatch({\n            type: \"updateSuggestions\",\n            value\n        });\n    }\n\n    function handleSuggestionSelected(event, {suggestion})\n    {\n        event.preventDefault();\n        event.stopPropagation();\n        if ( !suggestion.url )\n        {\n            return;\n        }\n        props.history.push(suggestion.url);\n        hideSearch();\n    }\n\n    function handleSuggestionsClearRequested()\n    {\n        dispatch({\n            type: \"clearSuggestions\",\n        });\n    }\n\n    function handleChange(event)\n    {\n        dispatch({\n            type : \"setSearchText\",\n            value: event.target.value\n        });\n    }\n\n    function handleClickAway(event)\n    {\n        return (\n            !suggestionsNode.current ||\n            !suggestionsNode.current.contains(event.target)\n        ) && hideSearch();\n    }\n\n    const autosuggestProps = {\n        renderInputComponent,\n        highlightFirstSuggestion   : true,\n        suggestions                : state.suggestions,\n        onSuggestionsFetchRequested: handleSuggestionsFetchRequested,\n        onSuggestionsClearRequested: handleSuggestionsClearRequested,\n        onSuggestionSelected       : handleSuggestionSelected,\n        getSuggestionValue,\n        renderSuggestion\n    };\n\n    switch ( props.variant )\n    {\n        case 'basic':\n        {\n            return (\n                <div className={clsx(\"flex items-center w-full\", props.className)} ref={popperNode}>\n                    <Autosuggest\n                        {...autosuggestProps}\n                        inputProps={{\n                            variant        : props.variant,\n                            classes,\n                            placeholder    : 'Search',\n                            value          : state.searchText,\n                            onChange       : handleChange,\n                            onFocus        : showSearch,\n                            InputLabelProps: {\n                                shrink: true\n                            },\n                            autoFocus      : false\n                        }}\n                        theme={{\n                            container      : \"flex flex-1 w-full\",\n                            suggestionsList: classes.suggestionsList,\n                            suggestion     : classes.suggestion\n                        }}\n                        renderSuggestionsContainer={options => (\n                            <Popper\n                                anchorEl={popperNode.current}\n                                open={Boolean(options.children) || state.noSuggestions}\n                                popperOptions={{positionFixed: true}}\n                                className=\"z-9999\"\n                            >\n                                <div ref={suggestionsNode}>\n                                    <Paper\n                                        elevation={1}\n                                        square\n                                        {...options.containerProps}\n                                        style={{width: popperNode.current ? popperNode.current.clientWidth : null}}\n                                    >\n                                        {options.children}\n                                        {state.noSuggestions && (\n                                            <Typography className=\"px-16 py-12\">\n                                                No results..\n                                            </Typography>\n                                        )}\n                                    </Paper>\n                                </div>\n                            </Popper>\n                        )}\n                    />\n                </div>\n            )\n        }\n        case 'full':\n        {\n            return (\n                <div className={clsx(classes.root, \"flex\", props.className)}>\n\n                    <Tooltip title=\"Click to search\" placement=\"bottom\">\n                        <div onClick={showSearch}>\n                            {props.trigger}\n                        </div>\n                    </Tooltip>\n\n                    {state.opened && (\n                        <ClickAwayListener onClickAway={handleClickAway}>\n                            <Paper\n                                className=\"absolute left-0 right-0 h-full z-9999\"\n                                square={true}\n                            >\n                                <div className=\"flex items-center w-full\" ref={popperNode}>\n                                    <Autosuggest\n                                        {...autosuggestProps}\n                                        inputProps={{\n                                            classes,\n                                            placeholder    : 'Search',\n                                            value          : state.searchText,\n                                            onChange       : handleChange,\n                                            InputLabelProps: {\n                                                shrink: true\n                                            },\n                                            autoFocus      : true\n                                        }}\n                                        theme={{\n                                            container      : \"flex flex-1 w-full\",\n                                            suggestionsList: classes.suggestionsList,\n                                            suggestion     : classes.suggestion\n                                        }}\n                                        renderSuggestionsContainer={options => (\n                                            <Popper\n                                                anchorEl={popperNode.current}\n                                                open={Boolean(options.children) || state.noSuggestions}\n                                                popperOptions={{positionFixed: true}}\n                                                className=\"z-9999\"\n                                            >\n                                                <div ref={suggestionsNode}>\n                                                    <Paper\n                                                        elevation={1}\n                                                        square\n                                                        {...options.containerProps}\n                                                        style={{width: popperNode.current ? popperNode.current.clientWidth : null}}\n                                                    >\n                                                        {options.children}\n                                                        {state.noSuggestions && (\n                                                            <Typography className=\"px-16 py-12\">\n                                                                No results..\n                                                            </Typography>\n                                                        )}\n                                                    </Paper>\n                                                </div>\n                                            </Popper>\n                                        )}\n                                    />\n                                    <IconButton onClick={hideSearch} className=\"mx-8\">\n                                        <Icon>close</Icon>\n                                    </IconButton>\n                                </div>\n                            </Paper>\n                        </ClickAwayListener>\n                    )}\n                </div>\n            )\n        }\n        default :\n        {\n            return null;\n        }\n    }\n}\n\nFuseSearch.propTypes = {};\nFuseSearch.defaultProps = {\n    trigger: (<IconButton className=\"w-64 h-64\"><Icon>search</Icon></IconButton>),\n    variant: 'full'// basic, full\n};\n\nexport default withRouter(React.memo(FuseSearch));\n"]},"metadata":{},"sourceType":"module"}