{"ast":null,"code":"import _defineProperty from \"/home/abhishek/Projects/Stp-II/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/abhishek/Projects/Stp-II/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/home/abhishek/Projects/Stp-II/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/abhishek/Projects/Stp-II/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport * as Actions from 'app/store/actions/fuse/index';\nimport FuseLayoutConfigs from 'app/fuse-layouts/FuseLayoutConfigs';\nimport FuseSettingsConfig from 'app/fuse-configs/settingsConfig';\nimport FuseThemesConfig from 'app/fuse-configs/themesConfig';\nimport _ from '@lodash';\nimport { defaultSettings, getParsedQuerySettings, defaultThemes, defaultThemeOptions, mustHaveThemeOptions, extendThemeWithMixins, mainThemeVariations } from '@fuse/FuseDefaultSettings';\nvar initialSettings = getInitialSettings();\nvar initialThemes = getInitialThemes();\n\nvar initialState = _objectSpread({\n  initial: initialSettings,\n  defaults: _.merge({}, initialSettings),\n  current: _.merge({}, initialSettings),\n  themes: initialThemes\n}, getThemeOptions(initialThemes, initialSettings));\n\nvar settings = function settings() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case Actions.SET_SETTINGS:\n      {\n        var newSettings = _.merge({}, state.current, action.value && action.value.layout && action.value.layout.style ? {\n          layout: {\n            config: FuseLayoutConfigs[action.value.layout.style].defaults\n          }\n        } : {}, action.value);\n\n        var themes = newSettings.theme.main !== state.current.theme.main ? _objectSpread({}, state.themes, updateMainThemeVariations(newSettings.theme.main)) : state.themes;\n        return _objectSpread({}, state, {\n          current: newSettings,\n          themes: themes\n        }, getThemeOptions(themes, newSettings));\n      }\n\n    case Actions.SET_INITIAL_SETTINGS:\n      {\n        return _.merge({}, initialState);\n      }\n\n    case Actions.SET_DEFAULT_SETTINGS:\n      {\n        var _newSettings = _.merge({}, state.defaults, action.value && action.value.layout && action.value.layout.style ? {\n          layout: {\n            config: FuseLayoutConfigs[action.value.layout.style].defaults\n          }\n        } : {}, action.value);\n\n        var _themes = _newSettings.theme.main !== state.defaults.theme.main ? _objectSpread({}, state.themes, updateMainThemeVariations(_newSettings.theme.main)) : state.themes;\n\n        return _objectSpread({}, state, {\n          defaults: _.merge({}, _newSettings),\n          current: _.merge({}, _newSettings),\n          themes: _themes\n        }, getThemeOptions(_themes, _newSettings));\n      }\n\n    case Actions.RESET_DEFAULT_SETTINGS:\n      {\n        var _themes2 = _objectSpread({}, state.themes, updateMainThemeVariations(state.defaults.theme.main));\n\n        return _objectSpread({}, state, {\n          defaults: _.merge({}, state.defaults),\n          current: _.merge({}, state.defaults),\n          themes: _themes2\n        }, getThemeOptions(_themes2, state.defaults));\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport default settings;\n/**\n * SETTINGS\n */\n\nfunction getInitialSettings() {\n  var defaultLayoutStyle = FuseSettingsConfig.layout && FuseSettingsConfig.layout.style ? FuseSettingsConfig.layout.style : \"layout1\";\n  var layout = {\n    style: defaultLayoutStyle,\n    config: FuseLayoutConfigs[defaultLayoutStyle].defaults\n  };\n  return _.merge({}, defaultSettings, {\n    layout: layout\n  }, FuseSettingsConfig, getParsedQuerySettings());\n}\n/**\n * THEMES\n */\n\n\nfunction getInitialThemes() {\n  var themesObj = Object.keys(FuseThemesConfig).length !== 0 ? FuseThemesConfig : defaultThemes;\n  var themes = Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(themesObj).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    var muiTheme = _.merge({}, defaultThemeOptions, value, mustHaveThemeOptions);\n\n    return _defineProperty({}, key, createMuiTheme(_.merge({}, muiTheme, {\n      mixins: extendThemeWithMixins(muiTheme)\n    })));\n  }))));\n  return _objectSpread({}, themes, mainThemeVariations(themesObj[initialSettings.theme.main]));\n}\n\nfunction updateMainThemeVariations(mainTheme) {\n  var themesObj = Object.keys(FuseThemesConfig).length !== 0 ? FuseThemesConfig : defaultThemes;\n  return mainThemeVariations(themesObj[mainTheme]);\n}\n\nfunction getThemeOptions(themes, settings) {\n  return _objectSpread({\n    mainTheme: themes[settings.theme.main],\n    navbarTheme: themes[settings.theme.navbar],\n    toolbarTheme: themes[settings.theme.toolbar],\n    footerTheme: themes[settings.theme.footer]\n  }, updateMainThemeVariations(settings.theme.main));\n}","map":{"version":3,"sources":["/home/abhishek/Projects/Stp-II/Fuse-React-v3.0.0-skeleton/src/app/store/reducers/fuse/settings.reducer.js"],"names":["createMuiTheme","Actions","FuseLayoutConfigs","FuseSettingsConfig","FuseThemesConfig","_","defaultSettings","getParsedQuerySettings","defaultThemes","defaultThemeOptions","mustHaveThemeOptions","extendThemeWithMixins","mainThemeVariations","initialSettings","getInitialSettings","initialThemes","getInitialThemes","initialState","initial","defaults","merge","current","themes","getThemeOptions","settings","state","action","type","SET_SETTINGS","newSettings","value","layout","style","config","theme","main","updateMainThemeVariations","SET_INITIAL_SETTINGS","SET_DEFAULT_SETTINGS","RESET_DEFAULT_SETTINGS","defaultLayoutStyle","themesObj","Object","keys","length","assign","entries","map","key","muiTheme","mixins","mainTheme","navbarTheme","navbar","toolbarTheme","toolbar","footerTheme","footer"],"mappings":"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","sourcesContent":["import {createMuiTheme} from '@material-ui/core/styles';\nimport * as Actions from 'app/store/actions/fuse/index';\nimport FuseLayoutConfigs from 'app/fuse-layouts/FuseLayoutConfigs';\nimport FuseSettingsConfig from 'app/fuse-configs/settingsConfig';\nimport FuseThemesConfig from 'app/fuse-configs/themesConfig';\nimport _ from '@lodash';\nimport {\n    defaultSettings,\n    getParsedQuerySettings,\n    defaultThemes,\n    defaultThemeOptions,\n    mustHaveThemeOptions,\n    extendThemeWithMixins,\n    mainThemeVariations\n} from '@fuse/FuseDefaultSettings';\n\nconst initialSettings = getInitialSettings();\nconst initialThemes = getInitialThemes();\n\nconst initialState = {\n    initial : initialSettings,\n    defaults: _.merge({}, initialSettings),\n    current : _.merge({}, initialSettings),\n    themes  : initialThemes,\n    ...getThemeOptions(initialThemes, initialSettings)\n};\n\nconst settings = function (state = initialState, action) {\n    switch ( action.type )\n    {\n        case Actions.SET_SETTINGS:\n        {\n            const newSettings = _.merge({}, state.current, action.value && action.value.layout && action.value.layout.style ? {layout: {config: FuseLayoutConfigs[action.value.layout.style].defaults}} : {}, action.value)\n            const themes = newSettings.theme.main !== state.current.theme.main ? {...state.themes, ...updateMainThemeVariations(newSettings.theme.main)} : state.themes;\n            return {\n                ...state,\n                current: newSettings,\n                themes,\n                ...getThemeOptions(themes, newSettings)\n            };\n        }\n        case Actions.SET_INITIAL_SETTINGS:\n        {\n            return _.merge({}, initialState);\n        }\n        case Actions.SET_DEFAULT_SETTINGS:\n        {\n            const newSettings = _.merge({}, state.defaults, action.value && action.value.layout && action.value.layout.style ? {layout: {config: FuseLayoutConfigs[action.value.layout.style].defaults}} : {}, action.value);\n            const themes = newSettings.theme.main !== state.defaults.theme.main ? {...state.themes, ...updateMainThemeVariations(newSettings.theme.main)} : state.themes;\n            return {\n                ...state,\n                defaults: _.merge({}, newSettings),\n                current : _.merge({}, newSettings),\n                themes,\n                ...getThemeOptions(themes, newSettings)\n            };\n        }\n        case Actions.RESET_DEFAULT_SETTINGS:\n        {\n            const themes = {...state.themes, ...updateMainThemeVariations(state.defaults.theme.main)};\n            return {\n                ...state,\n                defaults: _.merge({}, state.defaults),\n                current : _.merge({}, state.defaults),\n                themes,\n                ...getThemeOptions(themes, state.defaults)\n            };\n        }\n        default:\n        {\n            return state;\n        }\n    }\n};\n\nexport default settings;\n\n/**\n * SETTINGS\n */\nfunction getInitialSettings()\n{\n    const defaultLayoutStyle = (FuseSettingsConfig.layout && FuseSettingsConfig.layout.style) ? FuseSettingsConfig.layout.style : \"layout1\";\n    const layout = {\n        style : defaultLayoutStyle,\n        config: FuseLayoutConfigs[defaultLayoutStyle].defaults\n    };\n    return _.merge({}, defaultSettings, {layout}, FuseSettingsConfig, getParsedQuerySettings());\n}\n\n/**\n * THEMES\n */\nfunction getInitialThemes()\n{\n    const themesObj = Object.keys(FuseThemesConfig).length !== 0 ? FuseThemesConfig : defaultThemes;\n\n    const themes = Object.assign({}, ...Object.entries(themesObj).map(([key, value]) => {\n            const muiTheme = _.merge({}, defaultThemeOptions, value, mustHaveThemeOptions);\n            return {\n                [key]: createMuiTheme(_.merge({}, muiTheme, {mixins: extendThemeWithMixins(muiTheme)}))\n            }\n        }\n    ));\n\n    return {\n        ...themes,\n        ...mainThemeVariations(themesObj[initialSettings.theme.main])\n    }\n}\n\nfunction updateMainThemeVariations(mainTheme)\n{\n    const themesObj = Object.keys(FuseThemesConfig).length !== 0 ? FuseThemesConfig : defaultThemes;\n    return mainThemeVariations(themesObj[mainTheme])\n}\n\nfunction getThemeOptions(themes, settings)\n{\n    return {\n        mainTheme   : themes[settings.theme.main],\n        navbarTheme : themes[settings.theme.navbar],\n        toolbarTheme: themes[settings.theme.toolbar],\n        footerTheme : themes[settings.theme.footer],\n        ...updateMainThemeVariations(settings.theme.main)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}