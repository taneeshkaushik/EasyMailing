{"ast":null,"code":"import _objectSpread from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport * as colors from '@material-ui/core/colors';\nimport _ from '@lodash';\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.events = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"_getEventListByName\",\n    value: function _getEventListByName(eventName) {\n      if (typeof this.events[eventName] === 'undefined') {\n        this.events[eventName] = new Set();\n      }\n\n      return this.events[eventName];\n    }\n  }, {\n    key: \"on\",\n    value: function on(eventName, fn) {\n      this._getEventListByName(eventName).add(fn);\n    }\n  }, {\n    key: \"once\",\n    value: function once(eventName, fn) {\n      var self = this;\n\n      var onceFn = function onceFn() {\n        self.removeListener(eventName, onceFn);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        fn.apply(self, args);\n      };\n\n      this.on(eventName, onceFn);\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(eventName) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      this._getEventListByName(eventName).forEach(function (fn) {\n        fn.apply(this, args);\n      }.bind(this));\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(eventName, fn) {\n      this._getEventListByName(eventName).delete(fn);\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nvar FuseUtils =\n/*#__PURE__*/\nfunction () {\n  function FuseUtils() {\n    _classCallCheck(this, FuseUtils);\n  }\n\n  _createClass(FuseUtils, null, [{\n    key: \"filterArrayByString\",\n    value: function filterArrayByString(mainArr, searchText) {\n      var _this = this;\n\n      if (searchText === '') {\n        return mainArr;\n      }\n\n      searchText = searchText.toLowerCase();\n      return mainArr.filter(function (itemObj) {\n        return _this.searchInObj(itemObj, searchText);\n      });\n    }\n  }, {\n    key: \"searchInObj\",\n    value: function searchInObj(itemObj, searchText) {\n      for (var prop in itemObj) {\n        if (!itemObj.hasOwnProperty(prop)) {\n          continue;\n        }\n\n        var value = itemObj[prop];\n\n        if (typeof value === 'string') {\n          if (this.searchInString(value, searchText)) {\n            return true;\n          }\n        } else if (Array.isArray(value)) {\n          if (this.searchInArray(value, searchText)) {\n            return true;\n          }\n        }\n\n        if (typeof value === 'object') {\n          if (this.searchInObj(value, searchText)) {\n            return true;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"searchInArray\",\n    value: function searchInArray(arr, searchText) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var value = _step.value;\n\n          if (typeof value === 'string') {\n            if (this.searchInString(value, searchText)) {\n              return true;\n            }\n          }\n\n          if (typeof value === 'object') {\n            if (this.searchInObj(value, searchText)) {\n              return true;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"searchInString\",\n    value: function searchInString(value, searchText) {\n      return value.toLowerCase().includes(searchText);\n    }\n  }, {\n    key: \"generateGUID\",\n    value: function generateGUID() {\n      function S4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      }\n\n      return S4() + S4();\n    }\n  }, {\n    key: \"toggleInArray\",\n    value: function toggleInArray(item, array) {\n      if (array.indexOf(item) === -1) {\n        array.push(item);\n      } else {\n        array.splice(array.indexOf(item), 1);\n      }\n    }\n  }, {\n    key: \"handleize\",\n    value: function handleize(text) {\n      return text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n      .replace(/\\W+/g, '') // Remove all non-word chars\n      .replace(/--+/g, '-') // Replace multiple - with single -\n      .replace(/^-+/, '') // Trim - from start of text\n      .replace(/-+$/, ''); // Trim - from end of text\n    }\n  }, {\n    key: \"setRoutes\",\n    value: function setRoutes(config) {\n      var routes = _toConsumableArray(config.routes);\n\n      if (config.settings || config.auth) {\n        routes = routes.map(function (route) {\n          var auth = config.auth ? _toConsumableArray(config.auth) : null;\n          auth = route.auth ? [].concat(_toConsumableArray(auth), _toConsumableArray(route.auth)) : auth;\n          return _objectSpread({}, route, {\n            settings: _objectSpread({}, config.settings, route.settings),\n            auth: auth\n          });\n        });\n      }\n\n      return _toConsumableArray(routes);\n    }\n  }, {\n    key: \"generateRoutesFromConfigs\",\n    value: function generateRoutesFromConfigs(configs) {\n      var _this2 = this;\n\n      var allRoutes = [];\n      configs.forEach(function (config) {\n        allRoutes = [].concat(_toConsumableArray(allRoutes), _toConsumableArray(_this2.setRoutes(config)));\n      });\n      return allRoutes;\n    }\n  }, {\n    key: \"findById\",\n    value: function findById(o, id) {\n      //Early return\n      if (o.id === id) {\n        return o;\n      }\n\n      var result, p;\n\n      for (p in o) {\n        if (o.hasOwnProperty(p) && typeof o[p] === 'object') {\n          result = this.findById(o[p], id);\n\n          if (result) {\n            return result;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getFlatNavigation\",\n    value: function getFlatNavigation(navigationItems, flatNavigation) {\n      flatNavigation = flatNavigation ? flatNavigation : [];\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = navigationItems[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var navItem = _step2.value;\n\n          if (navItem.type === 'subheader') {\n            continue;\n          }\n\n          if (navItem.type === 'item') {\n            flatNavigation.push({\n              id: navItem.id,\n              title: navItem.title,\n              type: navItem.type,\n              icon: navItem.icon || false,\n              url: navItem.url,\n              auth: navItem.auth || null\n            });\n            continue;\n          }\n\n          if (navItem.type === 'collapse' || navItem.type === 'group') {\n            if (navItem.children) {\n              this.getFlatNavigation(navItem.children, flatNavigation);\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return flatNavigation;\n    }\n  }, {\n    key: \"randomMatColor\",\n    value: function randomMatColor(hue) {\n      hue = hue ? hue : '400';\n      var mainColors = ['red', 'pink', 'purple', 'deepPurple', 'indigo', 'blue', 'lightBlue', 'cyan', 'teal', 'green', 'lightGreen', 'lime', 'yellow', 'amber', 'orange', 'deepOrange'];\n      var randomColor = mainColors[Math.floor(Math.random() * mainColors.length)];\n      return colors[randomColor][hue];\n    }\n  }, {\n    key: \"difference\",\n    value: function difference(object, base) {\n      function changes(object, base) {\n        return _.transform(object, function (result, value, key) {\n          if (!_.isEqual(value, base[key])) {\n            result[key] = _.isObject(value) && _.isObject(base[key]) ? changes(value, base[key]) : value;\n          }\n        });\n      }\n\n      return changes(object, base);\n    }\n  }, {\n    key: \"updateNavItem\",\n    value: function updateNavItem(nav, id, item) {\n      var _this3 = this;\n\n      return nav.map(function (_item) {\n        if (_item.id === id) {\n          return _.merge({}, _item, item);\n        }\n\n        if (_item.children) {\n          return _.merge({}, _item, {\n            children: _this3.updateNavItem(_item.children, id, item)\n          });\n        } else {\n          return _.merge({}, _item);\n        }\n      });\n    }\n  }, {\n    key: \"removeNavItem\",\n    value: function removeNavItem(nav, id) {\n      var _this4 = this;\n\n      return nav.map(function (_item) {\n        if (_item.id === id) {\n          return null;\n        }\n\n        if (_item.children) {\n          return _.merge({}, _.omit(_item, ['children']), {\n            children: _this4.removeNavItem(_item.children, id)\n          });\n        } else {\n          return _.merge({}, _item);\n        }\n      }).filter(function (s) {\n        return s;\n      });\n    }\n  }, {\n    key: \"prependNavItem\",\n    value: function prependNavItem(nav, item, parentId) {\n      var _this5 = this;\n\n      if (!parentId) {\n        return [item].concat(_toConsumableArray(nav));\n      }\n\n      return nav.map(function (_item) {\n        if (_item.id === parentId && _item.children) {\n          return {\n            _item: _item,\n            children: [item].concat(_toConsumableArray(_item.children))\n          };\n        }\n\n        if (_item.children) {\n          return _.merge({}, _item, {\n            children: _this5.prependNavItem(_item.children, item, parentId)\n          });\n        } else {\n          return _.merge({}, _item);\n        }\n      });\n    }\n  }, {\n    key: \"appendNavItem\",\n    value: function appendNavItem(nav, item, parentId) {\n      var _this6 = this;\n\n      if (!parentId) {\n        return [].concat(_toConsumableArray(nav), [item]);\n      }\n\n      return nav.map(function (_item) {\n        if (_item.id === parentId && _item.children) {\n          return {\n            _item: _item,\n            children: [].concat(_toConsumableArray(_item.children), [item])\n          };\n        }\n\n        if (_item.children) {\n          return _.merge({}, _item, {\n            children: _this6.appendNavItem(_item.children, item, parentId)\n          });\n        } else {\n          return _.merge({}, _item);\n        }\n      });\n    }\n  }, {\n    key: \"hasPermission\",\n    value: function hasPermission(authArr, userRole) {\n      /**\n       * If auth array is not defined\n       * Pass and allow\n       */\n      if (authArr === null || authArr === undefined) {\n        // console.info(\"auth is null || undefined:\", authArr);\n        return true;\n      }\n      /**\n       * if auth array is empty means,\n       * allow only user role is guest (null or empty[])\n       */\n      else if (authArr.length === 0) {\n          // console.info(\"auth is empty[]:\", authArr);\n          return !userRole || userRole.length === 0;\n        }\n        /**\n         * Check if user has grants\n         */\n        else {\n            // console.info(\"auth arr:\", authArr);\n\n            /*\n            Check if user role is array,\n            */\n            if (userRole && Array.isArray(userRole)) {\n              return authArr.some(function (r) {\n                return userRole.indexOf(r) >= 0;\n              });\n            }\n            /*\n            Check if user role is string,\n            */\n\n\n            return authArr.includes(userRole);\n          }\n    }\n  }]);\n\n  return FuseUtils;\n}();\n\nFuseUtils.EventEmitter = EventEmitter;\nexport default FuseUtils;","map":{"version":3,"sources":["/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/@fuse/FuseUtils.js"],"names":["colors","_","EventEmitter","events","eventName","Set","fn","_getEventListByName","add","self","onceFn","removeListener","args","apply","on","forEach","bind","delete","FuseUtils","mainArr","searchText","toLowerCase","filter","itemObj","searchInObj","prop","hasOwnProperty","value","searchInString","Array","isArray","searchInArray","arr","includes","S4","Math","floor","random","toString","substring","item","array","indexOf","push","splice","text","replace","config","routes","settings","auth","map","route","configs","allRoutes","setRoutes","o","id","result","p","findById","navigationItems","flatNavigation","navItem","type","title","icon","url","children","getFlatNavigation","hue","mainColors","randomColor","length","object","base","changes","transform","key","isEqual","isObject","nav","_item","merge","updateNavItem","omit","removeNavItem","s","parentId","prependNavItem","appendNavItem","authArr","userRole","undefined","some","r"],"mappings":"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","sourcesContent":["import * as colors from '@material-ui/core/colors';\nimport _ from '@lodash';\n\nclass EventEmitter {\n\n    constructor()\n    {\n        this.events = {};\n    }\n\n    _getEventListByName(eventName)\n    {\n        if ( typeof this.events[eventName] === 'undefined' )\n        {\n            this.events[eventName] = new Set();\n        }\n        return this.events[eventName]\n    }\n\n    on(eventName, fn)\n    {\n        this._getEventListByName(eventName).add(fn);\n    }\n\n    once(eventName, fn)\n    {\n\n        const self = this;\n\n        const onceFn = function (...args) {\n            self.removeListener(eventName, onceFn);\n            fn.apply(self, args);\n        };\n        this.on(eventName, onceFn);\n\n    }\n\n    emit(eventName, ...args)\n    {\n\n        this._getEventListByName(eventName).forEach(function (fn) {\n\n            fn.apply(this, args);\n\n        }.bind(this));\n\n    }\n\n    removeListener(eventName, fn)\n    {\n        this._getEventListByName(eventName).delete(fn);\n    }\n}\n\nclass FuseUtils {\n\n    static filterArrayByString(mainArr, searchText)\n    {\n        if ( searchText === '' )\n        {\n            return mainArr;\n        }\n\n        searchText = searchText.toLowerCase();\n\n        return mainArr.filter(itemObj => {\n            return this.searchInObj(itemObj, searchText);\n        });\n    };\n\n    static searchInObj(itemObj, searchText)\n    {\n        for ( const prop in itemObj )\n        {\n            if ( !itemObj.hasOwnProperty(prop) )\n            {\n                continue;\n            }\n\n            const value = itemObj[prop];\n\n            if ( typeof value === 'string' )\n            {\n                if ( this.searchInString(value, searchText) )\n                {\n                    return true;\n                }\n            }\n\n            else if ( Array.isArray(value) )\n            {\n                if ( this.searchInArray(value, searchText) )\n                {\n                    return true;\n                }\n            }\n\n            if ( typeof value === 'object' )\n            {\n                if ( this.searchInObj(value, searchText) )\n                {\n                    return true;\n                }\n            }\n        }\n    }\n\n    static searchInArray(arr, searchText)\n    {\n        for ( const value of arr )\n        {\n            if ( typeof value === 'string' )\n            {\n                if ( this.searchInString(value, searchText) )\n                {\n                    return true;\n                }\n            }\n\n            if ( typeof value === 'object' )\n            {\n                if ( this.searchInObj(value, searchText) )\n                {\n                    return true;\n                }\n            }\n        }\n    }\n\n    static searchInString(value, searchText)\n    {\n        return value.toLowerCase().includes(searchText);\n    }\n\n    static generateGUID()\n    {\n        function S4()\n        {\n            return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n        }\n\n        return S4() + S4();\n    }\n\n    static toggleInArray(item, array)\n    {\n        if ( array.indexOf(item) === -1 )\n        {\n            array.push(item);\n        }\n        else\n        {\n            array.splice(array.indexOf(item), 1);\n        }\n    }\n\n    static handleize(text)\n    {\n        return text.toString().toLowerCase()\n            .replace(/\\s+/g, '-')           // Replace spaces with -\n            .replace(/\\W+/g, '')       // Remove all non-word chars\n            .replace(/--+/g, '-')         // Replace multiple - with single -\n            .replace(/^-+/, '')             // Trim - from start of text\n            .replace(/-+$/, '');            // Trim - from end of text\n    }\n\n    static setRoutes(config)\n    {\n        let routes = [...config.routes];\n\n        if ( config.settings || config.auth )\n        {\n            routes = routes.map((route) => {\n                let auth = config.auth ? [...config.auth] : null;\n                auth = route.auth ? [...auth, ...route.auth] : auth;\n                return {\n                    ...route,\n                    settings: {...config.settings, ...route.settings},\n                    auth\n                };\n            });\n        }\n\n        return [...routes];\n    }\n\n    static generateRoutesFromConfigs(configs)\n    {\n        let allRoutes = [];\n        configs.forEach((config) => {\n            allRoutes = [\n                ...allRoutes,\n                ...this.setRoutes(config)\n            ]\n        });\n        return allRoutes;\n    }\n\n    static findById(o, id)\n    {\n        //Early return\n        if ( o.id === id )\n        {\n            return o;\n        }\n        let result, p;\n        for ( p in o )\n        {\n            if ( o.hasOwnProperty(p) && typeof o[p] === 'object' )\n            {\n                result = this.findById(o[p], id);\n                if ( result )\n                {\n                    return result;\n                }\n            }\n        }\n        return result;\n    }\n\n    static getFlatNavigation(navigationItems, flatNavigation)\n    {\n        flatNavigation = flatNavigation ? flatNavigation : [];\n        for ( const navItem of navigationItems )\n        {\n            if ( navItem.type === 'subheader' )\n            {\n                continue;\n            }\n\n            if ( navItem.type === 'item' )\n            {\n                flatNavigation.push({\n                    id   : navItem.id,\n                    title: navItem.title,\n                    type : navItem.type,\n                    icon : navItem.icon || false,\n                    url  : navItem.url,\n                    auth : navItem.auth || null\n                });\n\n                continue;\n            }\n\n            if ( navItem.type === 'collapse' || navItem.type === 'group' )\n            {\n                if ( navItem.children )\n                {\n                    this.getFlatNavigation(navItem.children, flatNavigation);\n                }\n            }\n        }\n\n        return flatNavigation;\n    }\n\n    static randomMatColor(hue)\n    {\n        hue = hue ? hue : '400';\n        const mainColors = [\n            'red',\n            'pink',\n            'purple',\n            'deepPurple',\n            'indigo',\n            'blue',\n            'lightBlue',\n            'cyan',\n            'teal',\n            'green',\n            'lightGreen',\n            'lime',\n            'yellow',\n            'amber',\n            'orange',\n            'deepOrange'\n        ];\n        const randomColor = mainColors[Math.floor(Math.random() * mainColors.length)];\n        return colors[randomColor][hue];\n    }\n\n    static difference(object, base)\n    {\n        function changes(object, base)\n        {\n            return _.transform(object, function (result, value, key) {\n                if ( !_.isEqual(value, base[key]) )\n                {\n                    result[key] = (_.isObject(value) && _.isObject(base[key])) ? changes(value, base[key]) : value;\n                }\n            });\n        }\n\n        return changes(object, base);\n    }\n\n    static EventEmitter = EventEmitter;\n\n    static updateNavItem(nav, id, item)\n    {\n        return nav.map(_item => {\n\n            if ( _item.id === id )\n            {\n                return _.merge({}, _item, item);\n            }\n\n            if ( _item.children )\n            {\n                return _.merge({}, _item, {\n                    children: this.updateNavItem(_item.children, id, item)\n                });\n            }\n            else\n            {\n                return _.merge({}, _item);\n            }\n        })\n    }\n\n    static removeNavItem(nav, id)\n    {\n        return nav.map(_item => {\n            if ( _item.id === id )\n            {\n                return null;\n            }\n\n            if ( _item.children )\n            {\n                return _.merge({}, _.omit(_item, ['children']), {\n                    children: this.removeNavItem(_item.children, id)\n                });\n            }\n            else\n            {\n                return _.merge({}, _item);\n            }\n        }).filter(s => s)\n    }\n\n    static prependNavItem(nav, item, parentId)\n    {\n        if ( !parentId )\n        {\n            return [\n                item,\n                ...nav\n            ]\n        }\n\n        return nav.map(_item => {\n\n            if ( _item.id === parentId && _item.children )\n            {\n                return {\n                    _item,\n                    children: [\n                        item,\n                        ..._item.children\n                    ]\n                };\n            }\n\n            if ( _item.children )\n            {\n                return _.merge({}, _item, {\n                    children: this.prependNavItem(_item.children, item, parentId)\n                });\n            }\n            else\n            {\n                return _.merge({}, _item);\n            }\n        })\n    }\n\n    static appendNavItem(nav, item, parentId)\n    {\n        if ( !parentId )\n        {\n            return [\n                ...nav,\n                item\n            ]\n        }\n\n        return nav.map(_item => {\n\n            if ( _item.id === parentId && _item.children )\n            {\n                return {\n                    _item,\n                    children: [\n                        ..._item.children,\n                        item\n                    ]\n                };\n            }\n\n            if ( _item.children )\n            {\n                return _.merge({}, _item, {\n                    children: this.appendNavItem(_item.children, item, parentId)\n                });\n            }\n            else\n            {\n                return _.merge({}, _item);\n            }\n        })\n    }\n\n    static hasPermission(authArr, userRole)\n    {\n        /**\n         * If auth array is not defined\n         * Pass and allow\n         */\n        if ( authArr === null || authArr === undefined )\n        {\n            // console.info(\"auth is null || undefined:\", authArr);\n            return true;\n        }\n        /**\n         * if auth array is empty means,\n         * allow only user role is guest (null or empty[])\n         */\n        else if ( authArr.length === 0 )\n        {\n            // console.info(\"auth is empty[]:\", authArr);\n            return !userRole || userRole.length === 0;\n        }\n        /**\n         * Check if user has grants\n         */\n        else\n        {\n            // console.info(\"auth arr:\", authArr);\n            /*\n            Check if user role is array,\n            */\n            if ( userRole && Array.isArray(userRole) )\n            {\n                return authArr.some(r => userRole.indexOf(r) >= 0);\n            }\n\n            /*\n            Check if user role is string,\n            */\n            return authArr.includes(userRole);\n        }\n    }\n\n}\n\nexport default FuseUtils;\n"]},"metadata":{},"sourceType":"module"}