{"ast":null,"code":"import _slicedToArray from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/app/main/feed/FeedPage.js\";\nimport React, { useState } from 'react';\nimport { Avatar, Button, Tab, Tabs, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { FusePageSimple, FuseAnimate } from '@fuse';\nimport PostCard from 'app/main/reusables/PostCard';\nimport axiosInstance from 'app/main/axios';\nimport PostDialog from 'app/main/reusables/PostDialog';\nimport jwtService from 'app/services/jwtService/jwtService';\nimport { Redirect } from 'react-router-dom';\nimport QuestionDialog from 'app/main/reusables/QuestionDialog';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    layoutHeader: _defineProperty({\n      height: 200,\n      minHeight: 200\n    }, theme.breakpoints.down('md'), {\n      height: 140,\n      minHeight: 140\n    })\n  };\n});\n\nfunction ProfilePage() {\n  var classes = useStyles();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      postdata = _React$useState2[0],\n      setpostdata = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      ispost = _React$useState4[0],\n      setispost = _React$useState4[1];\n\n  function fetcher() {\n    var promise = axiosInstance.get('post-list/'); // using .then, create a new promise which extracts the data\n\n    var dataPromise = promise.then(function (response) {\n      return response.data;\n    });\n    return dataPromise;\n  }\n\n  function temp() {\n    setispost(true);\n    fetcher().then(function (data) {\n      setpostdata(data);\n    });\n  }\n\n  if (!ispost) {\n    temp();\n  }\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      dialogOpen = _React$useState6[0],\n      setDialogOpen = _React$useState6[1];\n\n  var openPostForm = function openPostForm() {\n    setDialogOpen(true);\n  };\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      questionDialogOpen = _React$useState8[0],\n      setQuestionDialogOpen = _React$useState8[1];\n\n  var openQuestion = function openQuestion() {\n    setQuestionDialogOpen(true);\n  };\n\n  if (jwtService.isAuthTokenValid()) return React.createElement(FusePageSimple, {\n    classes: {\n      header: classes.layoutHeader,\n      toolbar: \"px-16 sm:px-24\"\n    },\n    header: React.createElement(\"div\", {\n      className: \"p-24 flex flex-1 flex-col items-center justify-center md:flex-row md:items-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-1 flex-col items-center justify-center md:flex-row md:items-center md:justify-start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(FuseAnimate, {\n      animation: \"transition.expandIn\",\n      delay: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      className: \"w-96 h-96\",\n      src: \"assets/images/avatars/Velazquez.jpg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(FuseAnimate, {\n      animation: \"transition.slideLeftIn\",\n      delay: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"md:ml-24\",\n      variant: \"h4\",\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"John Doe\"))), React.createElement(\"div\", {\n      className: \"flex items-center justify-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"mr-8 normal-case\",\n      onClick: openQuestion,\n      variant: \"contained\",\n      color: \"secondary\",\n      \"aria-label\": \"Ask Question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Ask Question\"), React.createElement(Button, {\n      className: \"normal-case\",\n      onClick: openPostForm,\n      variant: \"contained\",\n      color: \"primary\",\n      \"aria-label\": \"Create Post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Create Post\")), React.createElement(PostDialog, {\n      dialogOpen: dialogOpen,\n      setDialogOpen: setDialogOpen.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(QuestionDialog, {\n      questionDialogOpen: questionDialogOpen,\n      setQuestionDialogOpen: setQuestionDialogOpen.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })),\n    content: React.createElement(\"div\", {\n      className: \"p-16 sm:p-24\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"md:flex max-w-2xl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-col flex-1 md:pr-32\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, postdata.map(function (item) {\n      return React.createElement(PostCard, {\n        item: item,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      });\n    })))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  });else return React.createElement(Redirect, {\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  });\n}\n\nexport default ProfilePage;","map":{"version":3,"sources":["/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/app/main/feed/FeedPage.js"],"names":["React","useState","Avatar","Button","Tab","Tabs","Typography","makeStyles","FusePageSimple","FuseAnimate","PostCard","axiosInstance","PostDialog","jwtService","Redirect","QuestionDialog","useStyles","theme","layoutHeader","height","minHeight","breakpoints","down","ProfilePage","classes","postdata","setpostdata","ispost","setispost","fetcher","promise","get","dataPromise","then","response","data","temp","dialogOpen","setDialogOpen","openPostForm","questionDialogOpen","setQuestionDialogOpen","openQuestion","isAuthTokenValid","header","toolbar","bind","map","item"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,MAAR,EAAgBC,MAAhB,EAAwBC,GAAxB,EAA6BC,IAA7B,EAAmCC,UAAnC,QAAoD,mBAApD;AACA,SAAQC,UAAR,QAAyB,qBAAzB;AACA,SAAQC,cAAR,EAAwBC,WAAxB,QAA0C,OAA1C;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AAEA,IAAMC,SAAS,GAAGT,UAAU,CAAC,UAAAU,KAAK;AAAA,SAAK;AACnCC,IAAAA,YAAY;AACRC,MAAAA,MAAM,EAA0B,GADxB;AAERC,MAAAA,SAAS,EAAuB;AAFxB,OAGPH,KAAK,CAACI,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAHO,EAGwB;AAC5BH,MAAAA,MAAM,EAAK,GADiB;AAE5BC,MAAAA,SAAS,EAAE;AAFiB,KAHxB;AADuB,GAAL;AAAA,CAAN,CAA5B;;AAWA,SAASG,WAAT,GACA;AACI,MAAMC,OAAO,GAAGR,SAAS,EAAzB;;AADJ,wBAIoChB,KAAK,CAACC,QAAN,CAAe,EAAf,CAJpC;AAAA;AAAA,MAIWwB,QAJX;AAAA,MAIqBC,WAJrB;;AAAA,yBAKgC1B,KAAK,CAACC,QAAN,CAAe,KAAf,CALhC;AAAA;AAAA,MAKW0B,MALX;AAAA,MAKmBC,SALnB;;AAMI,WAASC,OAAT,GAAmB;AACf,QAAMC,OAAO,GAAGnB,aAAa,CAACoB,GAAd,CAAkB,YAAlB,CAAhB,CADe,CAGf;;AACA,QAAMC,WAAW,GAAGF,OAAO,CAACG,IAAR,CAAa,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAvB;AAAA,KAAb,CAApB;AAGA,WAAOH,WAAP;AACD;;AACH,WAASI,IAAT,GACA;AACIR,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAC,IAAAA,OAAO,GAAGI,IAAV,CAAe,UAAAE,IAAI,EAAI;AACrBT,MAAAA,WAAW,CAACS,IAAD,CAAX;AAED,KAHD;AAIH;;AAED,MAAG,CAACR,MAAJ,EAAW;AACPS,IAAAA,IAAI;AACP;;AA1BL,yBA4BsCpC,KAAK,CAACC,QAAN,CAAe,KAAf,CA5BtC;AAAA;AAAA,MA4BWoC,UA5BX;AAAA,MA4BuBC,aA5BvB;;AA6BI,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvBD,IAAAA,aAAa,CAAC,IAAD,CAAb;AACH,GAFD;;AA7BJ,yBAiCsDtC,KAAK,CAACC,QAAN,CAAe,KAAf,CAjCtD;AAAA;AAAA,MAiCWuC,kBAjCX;AAAA,MAiC+BC,qBAjC/B;;AAkCI,MAAMC,YAAY,GAAC,SAAbA,YAAa,GACnB;AAEID,IAAAA,qBAAqB,CAAC,IAAD,CAArB;AACH,GAJD;;AAMA,MAAG5B,UAAU,CAAC8B,gBAAX,EAAH,EACA,OAEI,oBAAC,cAAD;AACI,IAAA,OAAO,EAAE;AACLC,MAAAA,MAAM,EAAGpB,OAAO,CAACN,YADZ;AAEL2B,MAAAA,OAAO,EAAE;AAFJ,KADb;AAMI,IAAA,MAAM,EACF;AAAK,MAAA,SAAS,EAAC,gFAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,+FAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,SAAS,EAAC,qBAAvB;AAA6C,MAAA,KAAK,EAAE,GAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAA8B,MAAA,GAAG,EAAC,qCAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAII,oBAAC,WAAD;AAAa,MAAA,SAAS,EAAC,wBAAvB;AAAgD,MAAA,KAAK,EAAE,GAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,UAAtB;AAAiC,MAAA,OAAO,EAAC,IAAzC;AAA8C,MAAA,KAAK,EAAC,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CAJJ,CADJ,EAUI;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,kBAAlB;AAAqC,MAAA,OAAO,EAAEH,YAA9C;AAA4D,MAAA,OAAO,EAAC,WAApE;AAAgF,MAAA,KAAK,EAAC,WAAtF;AAAkG,oBAAW,cAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAgC,MAAA,OAAO,EAAEH,YAAzC;AAAuD,MAAA,OAAO,EAAC,WAA/D;AAA2E,MAAA,KAAK,EAAC,SAAjF;AAA2F,oBAAW,aAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,CAVJ,EAcO,oBAAC,UAAD;AAAY,MAAA,UAAU,EAAEF,UAAxB;AAAoC,MAAA,aAAa,EAAEC,aAAa,CAACQ,IAAd,CAAmB,IAAnB,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdP,EAeO,oBAAC,cAAD;AAAgB,MAAA,kBAAkB,EAAEN,kBAApC;AAAwD,MAAA,qBAAqB,EAAEC,qBAAqB,CAACK,IAAtB,CAA2B,IAA3B,CAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfP,CAPR;AA0BI,IAAA,OAAO,EAEH;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKrB,QAAQ,CAACsB,GAAT,CAAa,UAAAC,IAAI;AAAA,aAAK,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAIA,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAL;AAAA,KAAjB,CADL,CADJ,CADJ,CA5BR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADA,KA6CG,OAAQ,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAR;AACN;;AAED,eAAezB,WAAf","sourcesContent":["import React, {useState} from 'react';\nimport {Avatar, Button, Tab, Tabs, Typography} from '@material-ui/core';\nimport {makeStyles} from '@material-ui/styles';\nimport {FusePageSimple, FuseAnimate} from '@fuse';\nimport PostCard from 'app/main/reusables/PostCard'\nimport axiosInstance from 'app/main/axios';\nimport PostDialog from 'app/main/reusables/PostDialog';\nimport jwtService from 'app/services/jwtService/jwtService'\nimport { Redirect } from 'react-router-dom';\nimport QuestionDialog from 'app/main/reusables/QuestionDialog';\n\nconst useStyles = makeStyles(theme => ({\n    layoutHeader: {\n        height                        : 200,\n        minHeight                     : 200,\n        [theme.breakpoints.down('md')]: {\n            height   : 140,\n            minHeight: 140\n        }\n    }\n}));\n\nfunction ProfilePage()\n{\n    const classes = useStyles();\n    \n\n    const [postdata, setpostdata] = React.useState([]);\n    const [ispost, setispost] = React.useState(false);\n    function fetcher() {\n        const promise = axiosInstance.get('post-list/');\n      \n        // using .then, create a new promise which extracts the data\n        const dataPromise = promise.then((response) => response.data);\n      \n       \n        return dataPromise;\n      }\n    function temp() \n    {\n        setispost(true);\n        fetcher().then(data => {\n          setpostdata(data);\n          \n        })\n    }\n\n    if(!ispost){\n        temp();\n    }  \n\n    const [dialogOpen, setDialogOpen]=React.useState(false);\n    const openPostForm = () => {\n        setDialogOpen(true);\n    }\n\n    const [questionDialogOpen, setQuestionDialogOpen]=React.useState(false);\n    const openQuestion=()=>\n    {\n        \n        setQuestionDialogOpen(true);\n    }\n\n    if(jwtService.isAuthTokenValid())\n    return (\n       \n        <FusePageSimple\n            classes={{\n                header : classes.layoutHeader,\n                toolbar: \"px-16 sm:px-24\"\n            }}\n            \n            header={\n                <div className=\"p-24 flex flex-1 flex-col items-center justify-center md:flex-row md:items-end\">\n                    <div className=\"flex flex-1 flex-col items-center justify-center md:flex-row md:items-center md:justify-start\">\n                        <FuseAnimate animation=\"transition.expandIn\" delay={300}>\n                            <Avatar className=\"w-96 h-96\" src=\"assets/images/avatars/Velazquez.jpg\"/>\n                        </FuseAnimate>\n                        <FuseAnimate animation=\"transition.slideLeftIn\" delay={300}>\n                            <Typography className=\"md:ml-24\" variant=\"h4\" color=\"inherit\">John Doe</Typography>\n                        </FuseAnimate>\n                    </div>\n\n                    <div className=\"flex items-center justify-end\">\n                        <Button className=\"mr-8 normal-case\" onClick={openQuestion} variant=\"contained\" color=\"secondary\" aria-label=\"Ask Question\">Ask Question</Button>\n                        <Button className=\"normal-case\" onClick={openPostForm} variant=\"contained\" color=\"primary\" aria-label=\"Create Post\">Create Post</Button>\n                    </div>\n                       <PostDialog dialogOpen={dialogOpen} setDialogOpen={setDialogOpen.bind(this)}></PostDialog>\n                       <QuestionDialog questionDialogOpen={questionDialogOpen} setQuestionDialogOpen={setQuestionDialogOpen.bind(this)}></QuestionDialog>\n                </div>\n            }\n            \n            content=\n            {\n                <div className=\"p-16 sm:p-24\">\n                    <div className=\"md:flex max-w-2xl\">\n                        <div className=\"flex flex-col flex-1 md:pr-32\">\n                            {postdata.map(item => (<PostCard item = {item} />))}\n                        </div>\n                    </div>\n                </div>\n                \n            }\n            \n        />\n        \n    )\n    else\n       return (<Redirect to='/login' />);\n}\n\nexport default ProfilePage;\n"]},"metadata":{},"sourceType":"module"}