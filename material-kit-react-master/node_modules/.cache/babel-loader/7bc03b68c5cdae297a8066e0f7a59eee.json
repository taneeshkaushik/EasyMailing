{"ast":null,"code":"import _toConsumableArray from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/@fuse/components/FuseShortcuts/FuseShortcuts.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Divider, Icon, IconButton, Input, ListItemIcon, ListItemText, Menu, MenuItem, Tooltip, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport * as UserActions from 'app/auth/store/actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FuseUtils, FuseAnimateGroup } from '@fuse';\nimport { Link } from 'react-router-dom';\nimport amber from '@material-ui/core/colors/amber';\nimport clsx from 'clsx';\nvar useStyles = makeStyles({\n  root: {\n    '&.horizontal': {},\n    '&.vertical': {\n      flexDirection: 'column'\n    }\n  },\n  item: {\n    textDecoration: 'none!important',\n    color: 'inherit'\n  },\n  addIcon: {\n    color: amber[600]\n  }\n});\n\nfunction FuseShortcuts(props) {\n  var dispatch = useDispatch();\n  var shortcuts = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.user.data.shortcuts;\n  });\n  var navigationData = useSelector(function (_ref2) {\n    var fuse = _ref2.fuse;\n    return fuse.navigation;\n  });\n  var classes = useStyles(props);\n  var searchInputRef = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      addMenu = _useState2[0],\n      setAddMenu = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchText = _useState4[0],\n      setSearchText = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchResults = _useState6[0],\n      setSearchResults = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      navigation = _useState8[0],\n      setNavigation = _useState8[1];\n\n  var shortcutItems = shortcuts ? shortcuts.map(function (id) {\n    return FuseUtils.findById(navigationData, id);\n  }) : [];\n  useEffect(function () {\n    function flattenNavigation() {\n      setNavigation(FuseUtils.getFlatNavigation(navigationData));\n    }\n\n    flattenNavigation();\n  }, [props.location, navigationData]);\n\n  function addMenuClick(event) {\n    setAddMenu(event.currentTarget);\n  }\n\n  function addMenuClose() {\n    setAddMenu(null);\n  }\n\n  function search(ev) {\n    var searchText = ev.target.value;\n    setSearchText(searchText);\n\n    if (searchText.length !== 0 && navigation) {\n      setSearchResults(navigation.filter(function (item) {\n        return item.title.toLowerCase().includes(searchText.toLowerCase());\n      }));\n      return;\n    }\n\n    setSearchResults(null);\n  }\n\n  function toggleInShortcuts(id) {\n    var newShortcuts = _toConsumableArray(shortcuts);\n\n    newShortcuts = newShortcuts.includes(id) ? newShortcuts.filter(function (_id) {\n      return id !== _id;\n    }) : [].concat(_toConsumableArray(newShortcuts), [id]);\n    dispatch(UserActions.updateUserShortcuts(newShortcuts));\n  }\n\n  function ShortcutMenuItem(_ref3) {\n    var item = _ref3.item,\n        onToggle = _ref3.onToggle;\n    return React.createElement(Link, {\n      to: item.url,\n      className: classes.item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(ListItemIcon, {\n      className: \"min-w-40\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, item.icon ? React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, item.icon) : React.createElement(\"span\", {\n      className: \"text-20 font-bold uppercase text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, item.title[0])), React.createElement(ListItemText, {\n      className: \"pl-0\",\n      primary: item.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(IconButton, {\n      onClick: function onClick(ev) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        onToggle(item.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      color: \"action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, shortcuts.includes(item.id) ? 'star' : 'star_border'))));\n  }\n\n  return React.createElement(\"div\", {\n    className: clsx(classes.root, props.variant, \"flex flex-1\", props.variant === \"vertical\" && \"flex-grow-0 flex-shrink\", props.className),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(FuseAnimateGroup, {\n    enter: {\n      animation: \"transition.expandIn\"\n    },\n    className: clsx(\"flex flex-1\", props.variant === \"vertical\" && \"flex-col\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, shortcutItems.map(function (item) {\n    return item && React.createElement(Link, {\n      to: item.url,\n      key: item.id,\n      className: classes.item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      title: item.title,\n      placement: props.variant === \"horizontal\" ? \"bottom\" : \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      className: \"w-40 h-40 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, item.icon ? React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, item.icon) : React.createElement(\"span\", {\n      className: \"text-20 font-bold uppercase\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, item.title[0]))));\n  }), React.createElement(Tooltip, {\n    title: \"Click to add/remove shortcut\",\n    placement: props.variant === \"horizontal\" ? \"bottom\" : \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    className: \"w-40 h-40 p-0\",\n    \"aria-owns\": addMenu ? 'add-menu' : null,\n    \"aria-haspopup\": \"true\",\n    onClick: addMenuClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    className: classes.addIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"star\")))), React.createElement(Menu, {\n    id: \"add-menu\",\n    anchorEl: addMenu,\n    open: Boolean(addMenu),\n    onClose: addMenuClose,\n    classes: {\n      paper: 'mt-48'\n    },\n    onEntered: function onEntered() {\n      searchInputRef.current.focus();\n    },\n    onExited: function onExited() {\n      setSearchText('');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"p-16 pt-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(Input, {\n    inputRef: searchInputRef,\n    value: searchText,\n    onChange: search,\n    placeholder: \"Search for an app or page\",\n    className: \"\",\n    fullWidth: true,\n    inputProps: {\n      'aria-label': 'Search'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  })), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }), searchText.length !== 0 && searchResults && searchResults.map(function (item) {\n    return React.createElement(ShortcutMenuItem, {\n      key: item.id,\n      item: item,\n      onToggle: function onToggle() {\n        return toggleInShortcuts(item.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    });\n  }), searchText.length !== 0 && searchResults.length === 0 && React.createElement(Typography, {\n    color: \"textSecondary\",\n    className: \"p-16 pb-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"No results..\"), searchText.length === 0 && shortcutItems.map(function (item) {\n    return item && React.createElement(ShortcutMenuItem, {\n      key: item.id,\n      item: item,\n      onToggle: function onToggle() {\n        return toggleInShortcuts(item.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    });\n  })));\n}\n\nFuseShortcuts.propTypes = {};\nFuseShortcuts.defaultProps = {\n  variant: \"horizontal\"\n};\nexport default React.memo(FuseShortcuts);","map":{"version":3,"sources":["/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/@fuse/components/FuseShortcuts/FuseShortcuts.js"],"names":["React","useEffect","useRef","useState","Divider","Icon","IconButton","Input","ListItemIcon","ListItemText","Menu","MenuItem","Tooltip","Typography","makeStyles","UserActions","useDispatch","useSelector","FuseUtils","FuseAnimateGroup","Link","amber","clsx","useStyles","root","flexDirection","item","textDecoration","color","addIcon","FuseShortcuts","props","dispatch","shortcuts","auth","user","data","navigationData","fuse","navigation","classes","searchInputRef","addMenu","setAddMenu","searchText","setSearchText","searchResults","setSearchResults","setNavigation","shortcutItems","map","id","findById","flattenNavigation","getFlatNavigation","location","addMenuClick","event","currentTarget","addMenuClose","search","ev","target","value","length","filter","title","toLowerCase","includes","toggleInShortcuts","newShortcuts","_id","updateUserShortcuts","ShortcutMenuItem","onToggle","url","icon","preventDefault","stopPropagation","variant","className","animation","Boolean","paper","current","focus","propTypes","defaultProps","memo"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport {Divider, Icon, IconButton, Input, ListItemIcon, ListItemText, Menu, MenuItem, Tooltip, Typography} from '@material-ui/core';\nimport {makeStyles} from '@material-ui/styles';\nimport * as UserActions from 'app/auth/store/actions';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {FuseUtils, FuseAnimateGroup} from '@fuse';\nimport {Link} from 'react-router-dom';\nimport amber from '@material-ui/core/colors/amber';\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles({\n    root   : {\n        '&.horizontal': {},\n        '&.vertical'  : {\n            flexDirection: 'column'\n        }\n    },\n    item   : {\n        textDecoration: 'none!important',\n        color         : 'inherit'\n    },\n    addIcon: {\n        color: amber[600]\n    }\n});\n\nfunction FuseShortcuts(props)\n{\n    const dispatch = useDispatch();\n    const shortcuts = useSelector(({auth}) => auth.user.data.shortcuts);\n    const navigationData = useSelector(({fuse}) => fuse.navigation);\n\n    const classes = useStyles(props);\n    const searchInputRef = useRef(null);\n    const [addMenu, setAddMenu] = useState(null);\n    const [searchText, setSearchText] = useState('');\n    const [searchResults, setSearchResults] = useState(null);\n    const [navigation, setNavigation] = useState(null);\n    const shortcutItems = shortcuts ? shortcuts.map(id => FuseUtils.findById(navigationData, id)) : [];\n\n    useEffect(() => {\n        function flattenNavigation()\n        {\n            setNavigation(FuseUtils.getFlatNavigation(navigationData));\n        }\n\n        flattenNavigation();\n    }, [props.location, navigationData]);\n\n    function addMenuClick(event)\n    {\n        setAddMenu(event.currentTarget);\n    }\n\n    function addMenuClose()\n    {\n        setAddMenu(null);\n    }\n\n    function search(ev)\n    {\n        const searchText = ev.target.value;\n        setSearchText(searchText);\n\n        if ( searchText.length !== 0 && navigation )\n        {\n            setSearchResults(navigation.filter(item => item.title.toLowerCase().includes(searchText.toLowerCase())));\n            return;\n        }\n        setSearchResults(null);\n    }\n\n    function toggleInShortcuts(id)\n    {\n        let newShortcuts = [...shortcuts];\n        newShortcuts = newShortcuts.includes(id) ? newShortcuts.filter(_id => id !== _id) : [...newShortcuts, id];\n        dispatch(UserActions.updateUserShortcuts(newShortcuts));\n    }\n\n    function ShortcutMenuItem({item, onToggle})\n    {\n        return (\n            <Link to={item.url} className={classes.item}>\n                <MenuItem key={item.id}>\n                    <ListItemIcon className=\"min-w-40\">\n                        {item.icon ?\n                            (\n                                <Icon>{item.icon}</Icon>\n                            ) :\n                            (\n                                <span className=\"text-20 font-bold uppercase text-center\">{item.title[0]}</span>\n                            )\n                        }\n                    </ListItemIcon>\n                    <ListItemText className=\"pl-0\" primary={item.title}/>\n                    <IconButton\n                        onClick={(ev) => {\n                            ev.preventDefault();\n                            ev.stopPropagation();\n                            onToggle(item.id);\n                        }}\n                    >\n                        <Icon color=\"action\">{shortcuts.includes(item.id) ? 'star' : 'star_border'}</Icon>\n                    </IconButton>\n                </MenuItem>\n            </Link>\n        );\n    }\n\n    return (\n        <div className={clsx(classes.root, props.variant, \"flex flex-1\", props.variant === \"vertical\" && \"flex-grow-0 flex-shrink\", props.className)}>\n\n            <FuseAnimateGroup\n                enter={{\n                    animation: \"transition.expandIn\"\n                }}\n                className={clsx(\"flex flex-1\", props.variant === \"vertical\" && \"flex-col\")}\n            >\n                {shortcutItems.map(item => item && (\n                    <Link to={item.url} key={item.id} className={classes.item}>\n                        <Tooltip title={item.title} placement={props.variant === \"horizontal\" ? \"bottom\" : \"left\"}>\n                            <IconButton className=\"w-40 h-40 p-0\">\n                                {item.icon ?\n                                    (\n                                        <Icon>{item.icon}</Icon>\n                                    ) :\n                                    (\n                                        <span className=\"text-20 font-bold uppercase\">{item.title[0]}</span>\n                                    )\n                                }\n                            </IconButton>\n                        </Tooltip>\n                    </Link>\n                ))}\n\n                <Tooltip title=\"Click to add/remove shortcut\" placement={props.variant === \"horizontal\" ? \"bottom\" : \"left\"}>\n                    <IconButton\n                        className=\"w-40 h-40 p-0\"\n                        aria-owns={addMenu ? 'add-menu' : null}\n                        aria-haspopup=\"true\"\n                        onClick={addMenuClick}\n                    >\n                        <Icon className={classes.addIcon}>star</Icon>\n                    </IconButton>\n                </Tooltip>\n            </FuseAnimateGroup>\n\n            <Menu\n                id=\"add-menu\"\n                anchorEl={addMenu}\n                open={Boolean(addMenu)}\n                onClose={addMenuClose}\n                classes={{\n                    paper: 'mt-48'\n                }}\n                onEntered={() => {\n                    searchInputRef.current.focus();\n                }}\n                onExited={() => {\n                    setSearchText('');\n                }}>\n                <div className=\"p-16 pt-8\">\n                    <Input\n                        inputRef={searchInputRef}\n                        value={searchText}\n                        onChange={search}\n                        placeholder=\"Search for an app or page\"\n                        className=\"\"\n                        fullWidth\n                        inputProps={{\n                            'aria-label': 'Search'\n                        }}\n                    />\n                </div>\n\n                <Divider/>\n\n                {searchText.length !== 0 && searchResults && searchResults.map(item => (\n                    <ShortcutMenuItem\n                        key={item.id}\n                        item={item}\n                        onToggle={() => toggleInShortcuts(item.id)}\n                    />\n                ))}\n\n                {searchText.length !== 0 && searchResults.length === 0 && (\n                    <Typography color=\"textSecondary\" className=\"p-16 pb-8\">No results..</Typography>\n                )}\n\n                {searchText.length === 0 && shortcutItems.map(item => item && (\n                    <ShortcutMenuItem\n                        key={item.id}\n                        item={item}\n                        onToggle={() => toggleInShortcuts(item.id)}\n                    />\n                ))}\n            </Menu>\n        </div>\n    );\n}\n\nFuseShortcuts.propTypes = {};\nFuseShortcuts.defaultProps = {\n    variant: \"horizontal\"\n};\n\nexport default React.memo(FuseShortcuts);\n"]},"metadata":{},"sourceType":"module"}