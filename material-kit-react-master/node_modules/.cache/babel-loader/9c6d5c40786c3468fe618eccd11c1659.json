{"ast":null,"code":"import _slicedToArray from \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/@fuse/components/FuseSettings/FuseSettings.js\";\nimport React from 'react';\nimport { Typography, FormControl, FormControlLabel, FormLabel, MenuItem, Radio, RadioGroup, Select, Switch } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport * as Actions from 'app/store/actions';\nimport * as AuthActions from 'app/auth/store/actions';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { FuseLayoutConfigs } from '@fuse';\nimport clsx from 'clsx';\nimport _ from '@lodash';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    formControl: {\n      margin: '6px 0',\n      width: '100%',\n      '&:last-child': {\n        marginBottom: 0\n      }\n    },\n    group: {},\n    formGroupTitle: {\n      position: 'absolute',\n      top: -10,\n      left: 8,\n      fontWeight: 600,\n      padding: '0 4px',\n      backgroundColor: theme.palette.background.paper\n    },\n    formGroup: {\n      position: 'relative',\n      border: '1px solid ' + theme.palette.divider,\n      borderRadius: 2,\n      padding: '12px 12px 0 12px',\n      margin: '24px 0 16px 0',\n      '&:first-of-type': {\n        marginTop: 16\n      }\n    }\n  };\n});\n\nfunction FuseSettings(props) {\n  var dispatch = useDispatch();\n  var user = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.user;\n  });\n  var themes = useSelector(function (_ref2) {\n    var fuse = _ref2.fuse;\n    return fuse.settings.themes;\n  });\n  var settings = useSelector(function (_ref3) {\n    var fuse = _ref3.fuse;\n    return fuse.settings.current;\n  });\n  var classes = useStyles(props);\n\n  function handleChange(event) {\n    var newSettings = _.set(_.merge({}, settings), event.target.name, event.target.type === 'checkbox' ? event.target.checked : event.target.value);\n    /**\n     * If layout style changes,\n     * Reset Layout Configuration\n     */\n\n\n    if (event.target.name === 'layout.style' && event.target.value !== settings.layout.style) {\n      newSettings.layout.config = {};\n    }\n\n    if (user.role === 'guest') {\n      dispatch(Actions.setDefaultSettings(newSettings));\n    } else {\n      dispatch(AuthActions.updateUserSettings(newSettings));\n    }\n  }\n\n  function ThemeSelect(_ref4) {\n    var value = _ref4.value,\n        name = _ref4.name,\n        handleChange = _ref4.handleChange;\n    return React.createElement(Select, {\n      className: \"w-full\",\n      value: value,\n      onChange: handleChange,\n      name: name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, Object.entries(themes).map(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          key = _ref6[0],\n          val = _ref6[1];\n\n      return React.createElement(MenuItem, {\n        key: key,\n        value: key,\n        className: \"m-8 mt-0 rounded-lg\",\n        style: {\n          backgroundColor: val.palette.background.default,\n          color: val.palette.text.primary,\n          border: '1px solid ' + val.palette.divider\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, _.startCase(key), React.createElement(\"div\", {\n        className: \"flex w-full h-8 block absolute bottom-0 left-0 right-0\",\n        style: {\n          borderTop: '1px solid ' + val.palette.divider\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"w-1/4 h-8\",\n        style: {\n          backgroundColor: val.palette.primary.main\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"w-1/4 h-8\",\n        style: {\n          backgroundColor: val.palette.secondary.main\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"w-1/4 h-8\",\n        style: {\n          backgroundColor: val.palette.error.main\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"w-1/4 h-8\",\n        style: {\n          backgroundColor: val.palette.background.paper\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })));\n    }));\n  }\n\n  var LayoutSelect = function LayoutSelect() {\n    return React.createElement(FormControl, {\n      component: \"fieldset\",\n      className: classes.formControl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(FormLabel, {\n      component: \"legend\",\n      className: \"text-14\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Style\"), React.createElement(RadioGroup, {\n      \"aria-label\": \"Layout Style\",\n      name: \"layout.style\",\n      className: classes.group,\n      value: settings.layout.style,\n      onChange: handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, Object.entries(FuseLayoutConfigs).map(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          layout = _ref8[1];\n\n      return React.createElement(FormControlLabel, {\n        key: key,\n        value: key,\n        control: React.createElement(Radio, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }),\n        label: layout.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      });\n    })));\n  };\n\n  var getForm = function getForm(form, prefix) {\n    return Object.entries(form).map(function (_ref9) {\n      var _ref10 = _slicedToArray(_ref9, 2),\n          key = _ref10[0],\n          formControl = _ref10[1];\n\n      var target = prefix ? prefix + '.' + key : key;\n\n      switch (formControl.type) {\n        case 'radio':\n          {\n            return React.createElement(FormControl, {\n              key: target,\n              component: \"fieldset\",\n              className: classes.formControl,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 141\n              },\n              __self: this\n            }, React.createElement(FormLabel, {\n              component: \"legend\",\n              className: \"text-14\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 142\n              },\n              __self: this\n            }, formControl.title), React.createElement(RadioGroup, {\n              \"aria-label\": formControl.title,\n              name: \"layout.config.\".concat(target),\n              className: classes.group,\n              value: _.get(settings.layout.config, target),\n              onChange: handleChange,\n              row: formControl.options.length < 4,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 143\n              },\n              __self: this\n            }, formControl.options.map(function (opt) {\n              return React.createElement(FormControlLabel, {\n                key: opt.value,\n                value: opt.value,\n                control: React.createElement(Radio, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 152\n                  },\n                  __self: this\n                }),\n                label: opt.name,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 152\n                },\n                __self: this\n              });\n            })));\n          }\n\n        case 'switch':\n          {\n            return React.createElement(FormControl, {\n              key: target,\n              component: \"fieldset\",\n              className: classes.formControl,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 161\n              },\n              __self: this\n            }, React.createElement(FormControlLabel, {\n              classes: {// root: \"flex-row-reverse justify-end pl-16\"\n              },\n              control: React.createElement(Switch, {\n                name: \"layout.config.\".concat(target),\n                checked: _.get(settings.layout.config, target),\n                onChange: handleChange,\n                \"aria-label\": formControl.title,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 167\n                },\n                __self: this\n              }),\n              label: React.createElement(FormLabel, {\n                component: \"legend\",\n                className: \"text-14\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 174\n                },\n                __self: this\n              }, formControl.title),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 162\n              },\n              __self: this\n            }));\n          }\n\n        case 'group':\n          {\n            return React.createElement(\"div\", {\n              key: target,\n              className: classes.formGroup,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 182\n              },\n              __self: this\n            }, React.createElement(Typography, {\n              className: classes.formGroupTitle,\n              color: \"textSecondary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 184\n              },\n              __self: this\n            }, formControl.title), getForm(formControl.children, key));\n          }\n\n        default:\n          {\n            return '';\n          }\n      }\n    });\n  };\n\n  function LayoutConfig() {\n    var form = FuseLayoutConfigs[settings.layout.style].form;\n    return getForm(form);\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.formGroup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.formGroupTitle,\n    color: \"textSecondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, \"Layout\"), React.createElement(LayoutSelect, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }), React.createElement(LayoutConfig, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }), React.createElement(Typography, {\n    className: \"my-16 text-12 italic\",\n    color: \"textSecondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, \"*Not all option combinations are available\")), React.createElement(\"div\", {\n    className: clsx(classes.formGroup, \"pb-16\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.formGroupTitle,\n    color: \"textSecondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, \"Theme\"), React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, \"Main\"), React.createElement(ThemeSelect, {\n    value: settings.theme.main,\n    name: \"theme.main\",\n    handleChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  })), React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, \"Navbar\"), React.createElement(ThemeSelect, {\n    value: settings.theme.navbar,\n    name: \"theme.navbar\",\n    handleChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  })), React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }, React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, \"Toolbar\"), React.createElement(ThemeSelect, {\n    value: settings.theme.toolbar,\n    name: \"theme.toolbar\",\n    handleChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  })), React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246\n    },\n    __self: this\n  }, \"Footer\"), React.createElement(ThemeSelect, {\n    value: settings.theme.footer,\n    name: \"theme.footer\",\n    handleChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }))), React.createElement(FormControl, {\n    component: \"fieldset\",\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }, React.createElement(FormLabel, {\n    component: \"legend\",\n    className: \"text-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, \"Custom Scrollbars\"), React.createElement(Switch, {\n    checked: settings.customScrollbars,\n    onChange: handleChange,\n    \"aria-label\": \"Custom Scrollbars\",\n    name: \"customScrollbars\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253\n    },\n    __self: this\n  })));\n}\n\nexport default React.memo(FuseSettings);","map":{"version":3,"sources":["/home/abhishek/Projects/stp/frotend/Fuse-React-v3.0.0-skeleton/src/@fuse/components/FuseSettings/FuseSettings.js"],"names":["React","Typography","FormControl","FormControlLabel","FormLabel","MenuItem","Radio","RadioGroup","Select","Switch","makeStyles","Actions","AuthActions","useSelector","useDispatch","FuseLayoutConfigs","clsx","_","useStyles","theme","root","formControl","margin","width","marginBottom","group","formGroupTitle","position","top","left","fontWeight","padding","backgroundColor","palette","background","paper","formGroup","border","divider","borderRadius","marginTop","FuseSettings","props","dispatch","user","auth","themes","fuse","settings","current","classes","handleChange","event","newSettings","set","merge","target","name","type","checked","value","layout","style","config","role","setDefaultSettings","updateUserSettings","ThemeSelect","Object","entries","map","key","val","default","color","text","primary","startCase","borderTop","main","secondary","error","LayoutSelect","title","getForm","form","prefix","get","options","length","opt","children","LayoutConfig","navbar","toolbar","footer","customScrollbars","memo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Typography, FormControl, FormControlLabel, FormLabel, MenuItem, Radio, RadioGroup, Select, Switch} from '@material-ui/core';\nimport {makeStyles} from '@material-ui/styles';\nimport * as Actions from 'app/store/actions';\nimport * as AuthActions from 'app/auth/store/actions';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {FuseLayoutConfigs} from '@fuse';\nimport clsx from 'clsx';\nimport _ from '@lodash';\n\nconst useStyles = makeStyles(theme => ({\n    root          : {},\n    formControl   : {\n        margin        : '6px 0',\n        width         : '100%',\n        '&:last-child': {\n            marginBottom: 0\n        }\n    },\n    group         : {},\n    formGroupTitle: {\n        position       : 'absolute',\n        top            : -10,\n        left           : 8,\n        fontWeight     : 600,\n        padding        : '0 4px',\n        backgroundColor: theme.palette.background.paper\n    },\n    formGroup     : {\n        position         : 'relative',\n        border           : '1px solid ' + theme.palette.divider,\n        borderRadius     : 2,\n        padding          : '12px 12px 0 12px',\n        margin           : '24px 0 16px 0',\n        '&:first-of-type': {\n            marginTop: 16\n        }\n    }\n}));\n\nfunction FuseSettings(props)\n{\n    const dispatch = useDispatch();\n    const user = useSelector(({auth}) => auth.user);\n    const themes = useSelector(({fuse}) => fuse.settings.themes);\n    const settings = useSelector(({fuse}) => fuse.settings.current);\n\n    const classes = useStyles(props);\n\n    function handleChange(event)\n    {\n\n        const newSettings = _.set(_.merge({}, settings), event.target.name, event.target.type === 'checkbox' ? event.target.checked : event.target.value);\n\n        /**\n         * If layout style changes,\n         * Reset Layout Configuration\n         */\n        if ( event.target.name === 'layout.style' && event.target.value !== settings.layout.style )\n        {\n            newSettings.layout.config = {};\n        }\n\n        if ( user.role === 'guest' )\n        {\n            dispatch(Actions.setDefaultSettings(newSettings));\n        }\n        else\n        {\n            dispatch(AuthActions.updateUserSettings(newSettings));\n        }\n    }\n\n    function ThemeSelect({value, name, handleChange})\n    {\n        return (\n            <Select\n                className=\"w-full\"\n                value={value}\n                onChange={handleChange}\n                name={name}\n            >\n                {Object.entries(themes).map(([key, val]) => (\n                    <MenuItem\n                        key={key} value={key}\n                        className=\"m-8 mt-0 rounded-lg\"\n                        style={{\n                            backgroundColor: val.palette.background.default,\n                            color          : val.palette.text.primary,\n                            border         : '1px solid ' + val.palette.divider\n                        }}\n                    >\n                        {_.startCase(key)}\n                        <div\n                            className=\"flex w-full h-8 block absolute bottom-0 left-0 right-0\"\n                            style={{\n                                borderTop: '1px solid ' + val.palette.divider\n                            }}\n                        >\n                            <div className=\"w-1/4 h-8\" style={{backgroundColor: val.palette.primary.main}}/>\n                            <div className=\"w-1/4 h-8\" style={{backgroundColor: val.palette.secondary.main}}/>\n                            <div className=\"w-1/4 h-8\" style={{backgroundColor: val.palette.error.main}}/>\n                            <div className=\"w-1/4 h-8\" style={{backgroundColor: val.palette.background.paper}}/>\n                        </div>\n                    </MenuItem>\n                ))}\n            </Select>\n        );\n    }\n\n    const LayoutSelect = () => {\n        return (\n            <FormControl component=\"fieldset\" className={classes.formControl}>\n\n                <FormLabel component=\"legend\" className=\"text-14\">Style</FormLabel>\n\n                <RadioGroup\n                    aria-label=\"Layout Style\"\n                    name=\"layout.style\"\n                    className={classes.group}\n                    value={settings.layout.style}\n                    onChange={handleChange}\n                >\n                    {Object.entries(FuseLayoutConfigs).map(([key, layout]) => (\n                            <FormControlLabel key={key} value={key} control={<Radio/>} label={layout.title}/>\n                        )\n                    )}\n                </RadioGroup>\n            </FormControl>\n        );\n    };\n\n    const getForm = (form, prefix) => {\n        return Object.entries(form).map(([key, formControl]) => {\n            const target = prefix ? prefix + '.' + key : key;\n            switch ( formControl.type )\n            {\n                case 'radio':\n                {\n                    return (\n                        <FormControl key={target} component=\"fieldset\" className={classes.formControl}>\n                            <FormLabel component=\"legend\" className=\"text-14\">{formControl.title}</FormLabel>\n                            <RadioGroup\n                                aria-label={formControl.title}\n                                name={`layout.config.${target}`}\n                                className={classes.group}\n                                value={_.get(settings.layout.config, target)}\n                                onChange={handleChange}\n                                row={formControl.options.length < 4}\n                            >\n                                {formControl.options.map((opt) => (\n                                    <FormControlLabel key={opt.value} value={opt.value} control={<Radio/>} label={opt.name}/>\n                                ))}\n                            </RadioGroup>\n                        </FormControl>\n                    );\n                }\n                case 'switch':\n                {\n                    return (\n                        <FormControl key={target} component=\"fieldset\" className={classes.formControl}>\n                            <FormControlLabel\n                                classes={{\n                                    // root: \"flex-row-reverse justify-end pl-16\"\n                                }}\n                                control={\n                                    <Switch\n                                        name={`layout.config.${target}`}\n                                        checked={_.get(settings.layout.config, target)}\n                                        onChange={handleChange}\n                                        aria-label={formControl.title}\n                                    />\n                                }\n                                label={<FormLabel component=\"legend\" className=\"text-14\">{formControl.title}</FormLabel>}\n                            />\n                        </FormControl>\n                    )\n                }\n                case 'group':\n                {\n                    return (\n                        <div key={target} className={classes.formGroup}>\n\n                            <Typography className={classes.formGroupTitle} color=\"textSecondary\">\n                                {formControl.title}\n                            </Typography>\n\n                            {\n                                getForm(formControl.children, key)\n                            }\n                        </div>\n                    );\n                }\n                default:\n                {\n                    return ''\n                }\n            }\n        });\n    };\n\n    function LayoutConfig()\n    {\n        const form = FuseLayoutConfigs[settings.layout.style].form;\n        return getForm(form);\n    }\n\n    return (\n        <div className={classes.root}>\n\n            <div className={classes.formGroup}>\n\n                <Typography className={classes.formGroupTitle} color=\"textSecondary\">\n                    Layout\n                </Typography>\n\n                <LayoutSelect/>\n\n                <LayoutConfig/>\n\n                <Typography className=\"my-16 text-12 italic\" color=\"textSecondary\">\n                    *Not all option combinations are available\n                </Typography>\n\n            </div>\n\n            <div className={clsx(classes.formGroup, \"pb-16\")}>\n\n                <Typography className={classes.formGroupTitle} color=\"textSecondary\">\n                    Theme\n                </Typography>\n\n                <FormControl component=\"fieldset\" className={classes.formControl}>\n                    <FormLabel component=\"legend\" className=\"text-14\">Main</FormLabel>\n                    <ThemeSelect value={settings.theme.main} name=\"theme.main\" handleChange={handleChange}/>\n                </FormControl>\n                <FormControl component=\"fieldset\" className={classes.formControl}>\n                    <FormLabel component=\"legend\" className=\"text-14\">Navbar</FormLabel>\n                    <ThemeSelect value={settings.theme.navbar} name=\"theme.navbar\" handleChange={handleChange}/>\n                </FormControl>\n                <FormControl component=\"fieldset\" className={classes.formControl}>\n                    <FormLabel component=\"legend\" className=\"text-14\">Toolbar</FormLabel>\n                    <ThemeSelect value={settings.theme.toolbar} name=\"theme.toolbar\" handleChange={handleChange}/>\n                </FormControl>\n                <FormControl component=\"fieldset\" className={classes.formControl}>\n                    <FormLabel component=\"legend\" className=\"text-14\">Footer</FormLabel>\n                    <ThemeSelect value={settings.theme.footer} name=\"theme.footer\" handleChange={handleChange}/>\n                </FormControl>\n            </div>\n\n            <FormControl component=\"fieldset\" className={classes.formControl}>\n                <FormLabel component=\"legend\" className=\"text-14\">Custom Scrollbars</FormLabel>\n                <Switch\n                    checked={settings.customScrollbars}\n                    onChange={handleChange}\n                    aria-label=\"Custom Scrollbars\"\n                    name=\"customScrollbars\"\n                />\n            </FormControl>\n        </div>\n    );\n}\n\nexport default React.memo(FuseSettings);\n"]},"metadata":{},"sourceType":"module"}