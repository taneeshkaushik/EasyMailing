{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1083:function(e,t,a){\"use strict\";a.r(t);var n=a(8),r=a(17),l=a(21),c=a(0),o=a.n(c),i=a(598),s=a(98),u=a(673),m=a(663),d=a(671),f=a(674),p=a(42),E=(a(24),a(749)),b=a(651),h=a(606),g=a(863),v=a(655),y=a(1003),j=a(864),C=a.n(j),O=a(658),k=Object(E.a)(function(e){return{root:{width:\"100%\",backgroundColor:e.palette.background.paper}}});function A(){var e=k(),t=o.a.useState([1]),a=Object(r.a)(t,2);a[0],a[1];return o.a.createElement(\"div\",null,o.a.createElement(s.a,null,\"Teachers\"),o.a.createElement(O.a,null),o.a.createElement(b.a,{dense:!0,className:e.root},[0,1,2,3].map(function(e){var t=\"checkbox-list-secondary-label-\".concat(e);return o.a.createElement(\"div\",null,o.a.createElement(h.a,{key:e,button:!0},o.a.createElement(y.a,null,o.a.createElement(i.a,{alt:\"Avatar n\\xb0\".concat(e+1),src:\"/static/images/avatar/\".concat(e+1,\".jpg\")})),o.a.createElement(v.a,{id:t,primary:\"Line item \".concat(e+1)}),o.a.createElement(g.a,null,o.a.createElement(C.a,null))),o.a.createElement(O.a,null))})),o.a.createElement(s.a,null,\"Classmates\"),o.a.createElement(O.a,null),o.a.createElement(b.a,{dense:!0,className:e.root},[0,1,2,3].map(function(e){var t=\"checkbox-list-secondary-label-\".concat(e);return o.a.createElement(\"div\",null,o.a.createElement(h.a,{key:e,button:!0},o.a.createElement(y.a,null,o.a.createElement(i.a,{alt:\"Avatar n\\xb0\".concat(e+1),src:\"/static/images/avatar/\".concat(e+1,\".jpg\")})),o.a.createElement(v.a,{id:t,primary:\"Line item \".concat(e+1)}),o.a.createElement(g.a,null,o.a.createElement(C.a,null))),o.a.createElement(O.a,null))})))}var x=a(5),N=a(661),w=a(859),S=a(603),P=a(649),I=a(694),T=a(721),_=a(662),D=a(680),L=a(656),M=a(602),R=a(121);function U(e){var t;return o.a.createElement(\"div\",{className:\"flex flex-auto\"},o.a.createElement(i.a,{src:\"assets/images/avatars/profile.jpg\"}),o.a.createElement(\"div\",{className:\"flex-1 pl-8\"},o.a.createElement(R.a,{elevation:0,className:\"w-full mb-16\"},o.a.createElement(M.a,{onChange:function(e){t=e.target.value},className:\"p-8 w-full border-1\",classes:{root:\"text-13\"},placeholder:\"Add a comment..\",multiline:!0,rows:\"1\",margin:\"none\",disableUnderline:!0})),o.a.createElement(d.a,{onClick:function(){D.a.post(\"post-class-comment/\",{classPostId:e.postId,parentCommentId:e.parentCommentId,body:t}).then(function(e){}).catch(function(e){alert(e)}),e.setComment(!e.comment)},className:\"normal-case\",variant:\"contained\",color:\"primary\",size:\"small\"},\"Post Comment\")))}var Y=a(789);function H(e){var t=o.a.useState([]),a=Object(r.a)(t,2),n=a[0],l=a[1],c=o.a.useState(!1),u=Object(r.a)(c,2),m=u[0],f=u[1];function p(){D.a.get(\"class-replies/\"+e.item.id+\"/\").then(function(e){return e.data}).then(function(e){l(e),f(!m)})}return o.a.createElement(\"div\",null,o.a.createElement(h.a,{className:\"px-0\"},o.a.createElement(i.a,{alt:e.item.commenterName[0].toUpperCase(),className:\"mr-16\"}),o.a.createElement(v.a,{primary:o.a.createElement(\"div\",null,o.a.createElement(s.a,{className:\"inline font-medium\",color:\"initial\",paragraph:!1},e.item.commenterName),o.a.createElement(s.a,{className:\"inline ml-4\",variant:\"caption\"},e.item.creationDate)),secondary:e.item.body}),o.a.createElement(d.a,{onClick:function(){console.log(\"hello\")}},\"Helloasldkfjasdf\")),o.a.createElement(_.a,{className:\"card-footer flex flex-column p-16\",position:\"static\",color:\"default\",elevation:0},o.a.createElement(\"div\",{className:\"flex items-center\"},o.a.createElement(d.a,{onClick:function(){0==m?p():f(!m)}},o.a.createElement(s.a,null,\"Replies\"),o.a.createElement(P.a,{className:\"text-16 ml-4\",color:\"action\"},\"keyboard_arrow_down\"))),o.a.createElement(L.a,{in:m,timeout:\"auto\",unmountOnExit:!0},o.a.createElement(Y.a,null,o.a.createElement(U,{comment:m,setComment:f.bind(this),postId:e.item.classPostId,parentCommentId:e.item.id}),n.length>0?o.a.createElement(b.a,null,n.map(function(e){return o.a.createElement(H,{item:e})})):null))))}var z=Object(f.a)(function(e){return{layoutHeader:Object(l.a)({height:200,minHeight:200},e.breakpoints.down(\"md\"),{height:140,minHeight:140}),card:{minHeight:200}}});function G(e){var t=z(),a=o.a.useState([]),n=Object(r.a)(a,2),l=n[0],c=n[1],s=o.a.useState(!1),u=Object(r.a)(s,2),m=u[0],f=u[1];function p(){D.a.get(\"class-comments/\"+e.item.id+\"/\").then(function(e){return e.data}).then(function(e){c(e),f(!0)})}return o.a.createElement(\"div\",null,o.a.createElement(N.a,{key:e.item.id,className:t.card+\" mb-32 overflow-hidden\"},o.a.createElement(w.a,{avatar:o.a.createElement(i.a,{\"aria-label\":\"Recipe\",alt:e.item.creatorId__first_name[0].toUpperCase()}),action:o.a.createElement(S.a,{\"aria-label\":\"more\"},o.a.createElement(P.a,null,\"more_vert\")),title:e.item.title,subheader:e.item.creatorId__first_name}),o.a.createElement(I.a,{className:\"py-0\"},o.a.createElement(\"div\",null,o.a.createElement(\"p\",null,e.item.body),e.item.Tag__Tag,\"gdhsfh\")),o.a.createElement(T.a,{disableSpacing:!0},o.a.createElement(d.a,{\"aria-label\":\"Favorite\"},o.a.createElement(P.a,{className:\"text-16 mr-8\",color:\"action\"},\"comment\"))),o.a.createElement(_.a,{className:\"card-footer flex flex-column p-16\",position:\"static\",color:\"default\",elevation:0},o.a.createElement(\"div\",{className:\"flex items-center\"},o.a.createElement(d.a,{onClick:function(){0==m?p():f(!m)}},\"comments\",o.a.createElement(P.a,{className:\"text-16 ml-4\",color:\"action\"},\"keyboard_arrow_down\"))),o.a.createElement(L.a,{in:m,timeout:\"auto\",unmountOnExit:!0},o.a.createElement(U,{comment:m,setComment:f.bind(this),postId:e.item.id,parentCommentId:null}),l.length>0?o.a.createElement(b.a,null,l.map(function(e){return o.a.createElement(H,{item:e})})):null))))}function F(e){Object(x.c)(function(e){return e.academyApp.course});return e.posts?(console.log(e),o.a.createElement(\"div\",null,{all:e.posts.map(function(e){return o.a.createElement(G,{item:e})}).reverse(),material:e.posts.filter(function(t){return t.postType==e.type}).map(function(e){return o.a.createElement(G,{item:e})}).reverse(),exams:e.posts.filter(function(t){return t.postType==e.type}).map(function(e){return o.a.createElement(G,{item:e})}).reverse(),assignments:e.posts.filter(function(t){return t.postType==e.type}).map(function(e){return o.a.createElement(G,{item:e})}).reverse(),topic:e.posts.filter(function(t){return t.tag==e.tag}).map(function(e){return o.a.createElement(G,{item:e})}).reverse()}[e.type])):null}var B=a(865),q=a.n(B),J=a(666),V=a(668),W=a(792),K=a(791),Q=a(790),X=a(652),Z=a(615),$=a(686),ee=Object(f.a)(function(e){return{text:{width:\"70ch\"}}});function te(e){ee();var t=Object(x.b)(),a=Object(x.c)(function(e){return e.academyApp.course}),l=o.a.useState(!1),c=Object(r.a)(l,2),i=c[0],s=c[1],u=o.a.useState(!1),m=Object(r.a)(u,2),f=m[0],p=m[1],E=o.a.useState({}),b=Object(r.a)(E,2),h=b[0],g=b[1],v=o.a.useState(0),y=Object(r.a)(v,2),j=y[0],C=y[1],O=o.a.useState(\"all\"),k=Object(r.a)(O,2),A=k[0],N=k[1],w=function(){s(!1)},S=function(){p(!1)};return o.a.createElement(\"div\",null,o.a.createElement(d.a,{variant:\"outlined\",color:\"inherit\",onClick:function(){s(!0)}},\"Share or Announce Something\"),o.a.createElement(V.a,{open:i,onClose:w,\"aria-labelledby\":\"form-dialog-title\"},o.a.createElement(Q.a,{id:\"form-dialog-title\"},\"Share / Announce Form \"),o.a.createElement(K.a,null,o.a.createElement(J.a,{autoFocus:!0,id:\"name\",label:\"title\",margin:\"dense\",type:\"text\",variant:\"outlined\",fullWidth:!0,onChange:function(e){g(Object(n.a)({},h,{title:e.target.value}))}}),o.a.createElement(J.a,{autoFocus:!0,id:\"name\",label:\"body\",margin:\"dense\",type:\"text\",variant:\"outlined\",fullWidth:!0,multiline:!0,onChange:function(e){g(Object(n.a)({},h,{body:e.target.value}))}}),o.a.createElement(Z.a,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",onChange:function(e){C(e.target.value)},value:j,required:!0},null==a?null:a.tagList.map(function(e,t){return o.a.createElement(X.a,{value:t},e.tag)})),o.a.createElement(\"br\",null),o.a.createElement(Z.a,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",onChange:function(e){N(e.target.value)},value:A,required:!0},o.a.createElement(X.a,{value:\"all\"},\"All\"),o.a.createElement(X.a,{value:\"material\"},\"Material\"),o.a.createElement(X.a,{value:\"assignments\"},\"Assignments\"),o.a.createElement(X.a,{value:\"exams\"},\"Exams\"))),o.a.createElement(W.a,null,o.a.createElement(d.a,{className:\"normal-case\",variant:\"outlined\",color:\"inherit\",onClick:function(){p(!0)}},\"Attach\"),o.a.createElement(V.a,{open:f,onClose:S,\"aria-labelledby\":\"form-dialog-title\"},o.a.createElement(Q.a,{id:\"form-dialog-title\"},\"Attach file\"),o.a.createElement(K.a,null,o.a.createElement(\"form\",null,o.a.createElement(\"input\",{type:\"file\",onChange:function(e){console.log(e.target.value),g(Object(n.a)({},h,{file:e.target.files[0]})),p(!1)}}))),o.a.createElement(W.a,null,o.a.createElement(d.a,{className:\"normal-case\",variant:\"outlined\",color:\"inherit\"},\"Attach\"),o.a.createElement(d.a,{onClick:S,className:\"normal-case\",variant:\"outlined\",color:\"inherit\"},\"Discard\"))),o.a.createElement(d.a,{onClick:w,className:\"normal-case\",variant:\"outlined\",color:\"inherit\"},\"Discard\"),o.a.createElement(d.a,{onClick:function(){var n=new FormData;n.append(\"file\",h.file),n.append(\"body\",h.body),n.append(\"title\",h.title),n.append(\"courseId\",e.data.courseId),n.append(\"tag\",a.tagList[j].id),n.append(\"postType\",A),D.a.post(\"post-in-class/\",n,{headers:{\"content-type\":\"multipart/form-data\"}}).then(function(e){console.log(e.data),t($.j(e.data))}).catch(function(e){console.log(e)}),S(),w()},variant:\"outlined\",color:\"inherit\"},\"Post\"))))}var ae=a(239),ne=a(706),re=Object(f.a)(function(e){return{layoutHeader:Object(l.a)({height:320,minHeight:320},e.breakpoints.down(\"md\"),{height:240,minHeight:240}),tabs:{borderRight:\"1px solid \".concat(e.palette.divider)},header:{backgroundColor:\"blue\"}}});t.default=Object(ae.a)(\"academyApp\",ne.a)(function(e){var t=Object(x.b)(),a=re(),l=Object(x.c)(function(e){return e.academyApp.course}),f=(Object(x.c)(function(e){return e.auth.user}),Object(c.useState)({})),E=Object(r.a)(f,2),g=E[0],y=E[1];Object(c.useEffect)(function(){t($.o(e.match.params))},[t,e.match.params]),Object(c.useEffect)(function(){t($.l(e.match.params))},[t,e.match.params]),Object(c.useEffect)(function(){y(Object(n.a)({},g,{name:e.match.params.courseName}))},[e]);var j,C=Object(c.useState)(0),k=Object(r.a)(C,2),N=k[0],w=k[1],P=Object(c.useState)(0),I=Object(r.a)(P,2),T=I[0],_=I[1],D=Object(c.useState)(\"all\"),L=Object(r.a)(D,2),M=L[0],R=L[1],U=Object(c.useState)(!1),Y=Object(r.a)(U,2),H=Y[0],z=Y[1];function G(e){R(e)}function B(){z(!1)}return o.a.createElement(\"div\",null,o.a.createElement(\"div\",{className:\" p-24 flex flex-1 flex-col items-center justify-center md:flex-row md:items-end\"},o.a.createElement(\"div\",{className:\"flex flex-1 flex-col items-center justify-center md:flex-row md:items-center md:justify-start\"},o.a.createElement(p.b,{animation:\"transition.expandIn\",delay:300},o.a.createElement(i.a,{className:\"w-96 h-96\",src:\"assets/images/avatars/Velazquez.jpg\"})),o.a.createElement(p.b,{animation:\"transition.slideLeftIn\",delay:300},o.a.createElement(s.a,{className:\"md:ml-24\",variant:\"h4\",color:\"inherit\"},\" \",g.name))),o.a.createElement(\"div\",{className:\"flex items-center justify-end\"},o.a.createElement(te,{data:e.match.params}))),o.a.createElement(p.m,{contentToolbar:o.a.createElement(u.a,{value:N,onChange:function(e,t){w(t)},indicatorColor:\"secondary\",textColor:\"secondary\",variant:\"scrollable\",scrollButtons:\"off\",classes:{root:\"h-64 w-full border-b-1\"}},o.a.createElement(m.a,{classes:{root:\"h-64\"},label:\"Timeline\"}),o.a.createElement(m.a,{classes:{root:\"h-64\"},label:\"People\"})),content:o.a.createElement(\"div\",{className:\"p-16 sm:p-24\"},0===N&&o.a.createElement(F,{type:M,tag:T,posts:null==l?null:l.postList}),1===N&&o.a.createElement(A,null)),leftSidebarContent:o.a.createElement(\"div\",null,o.a.createElement(b.a,{dense:!0,className:a.root},o.a.createElement(h.a,{key:0,onClick:function(){return G(\"all\")},button:!0},o.a.createElement(v.a,{primary:\"All\"})),o.a.createElement(h.a,{key:0,onClick:function(){return G(\"exams\")},button:!0},o.a.createElement(v.a,{primary:\"Exams\"})),\" \",o.a.createElement(h.a,{key:0,onClick:function(){return G(\"assignments\")},button:!0},o.a.createElement(v.a,{primary:\"Assignments\"})),\" \",o.a.createElement(h.a,{key:0,onClick:function(){return G(\"material\")},button:!0},o.a.createElement(v.a,{primary:\"Material\"})),o.a.createElement(\"br\",null),o.a.createElement(O.a,null),o.a.createElement(s.a,{className:\"md:ml-24\",variant:\"h5\",color:\"inherit\"},\" Topics \"),o.a.createElement(\"br\",null),null==l?[]:l.tagList.map(function(e){return o.a.createElement(\"div\",null,o.a.createElement(h.a,{key:e.id,onClick:function(){return t=e.id,a=\"topic\",_(t),void R(a);var t,a},button:!0},o.a.createElement(v.a,{primary:e.tag})))})),o.a.createElement(S.a,{onClick:function(){z(!0)}},o.a.createElement(q.a,null)),o.a.createElement(V.a,{open:H,onClose:B},o.a.createElement(K.a,{color:\"primary\"},o.a.createElement(J.a,{onChange:function(e){j=e.target.value}})),o.a.createElement(W.a,null,o.a.createElement(d.a,{onClick:B,color:\"secondary\"},\"Cancel\"),o.a.createElement(d.a,{onClick:function(){t($.k(e.match.params,j)),B()},color:\"secondary\"},\"Create Tag\"))))}))})},680:function(e,t,a){\"use strict\";var n=a(65),r=a.n(n),l=a(122),c=a(137),o=\"https://serene-fjord-22896.herokuapp.com/api/\",i=a.n(c).a.create({baseURL:o,timeout:5e3,headers:{Authorization:localStorage.getItem(\"access_token\")?\"Bearer \"+localStorage.getItem(\"access_token\"):null,\"Content-Type\":\"application/json\",accept:\"application/json\"}});i.interceptors.response.use(function(e){return e},function(){var e=Object(l.a)(r.a.mark(function e(t){var a,n,l,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,\"undefined\"!==typeof t.response){e.next=4;break}return alert(\"A server/network error occurred. Looks like CORS might be the problem. Sorry about this - we will get it fixed shortly.\"),e.abrupt(\"return\",Promise.reject(t));case 4:if(401!==t.response.status||a.url!==o+\"token/refresh/\"){e.next=7;break}return window.location.href=\"/login/\",e.abrupt(\"return\",Promise.reject(t));case 7:if(\"token_not_valid\"!==t.response.data.code||401!==t.response.status||\"Unauthorized\"!==t.response.statusText){e.next=23;break}if(!(n=localStorage.getItem(\"refresh_token\"))){e.next=21;break}if(l=JSON.parse(atob(n.split(\".\")[1])),c=Math.ceil(Date.now()/1e3),console.log(l.exp),!(l.exp>c)){e.next=17;break}return e.abrupt(\"return\",i.post(\"/token/refresh/\",{refresh:n}).then(function(e){return localStorage.setItem(\"access_token\",e.data.access),localStorage.setItem(\"refresh_token\",e.data.refresh),i.defaults.headers.Authorization=\"Bearer \"+e.data.access,a.headers.Authorization=\"Bearer \"+e.data.access,i(a)}).catch(function(e){console.log(e)}));case 17:console.log(\"Refresh token is expired\",l.exp,c),window.location.href=\"/login/\";case 19:e.next=23;break;case 21:console.log(\"Refresh token not available.\"),window.location.href=\"/login/\";case 23:return e.abrupt(\"return\",Promise.reject(t));case 24:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),t.a=i},686:function(e,t,a){\"use strict\";var n=a(680),r=\"[ACADEMY APP] GET COURSES\";function l(){var e=n.a.get(\"my-courses/\");return function(t){return e.then(function(e){return t({type:r,payload:e.data})})}}a(8),a(25);var c=\"[ACADEMY APP] GET COURSE\",o=\"[ACADEMY APP] GET TAGS\",i=\"[ACADEMY APP] ADD POST\",s=\"[ACADEMY APP] SAVE COURSE\",u=\"[ACADEMY APP] UPDATE COURSE\",m=\"[ACADEMY APP] CREATE TAG\",d=\"[ACADEMY APP] GET COMMENTS\";function f(e){var t=n.a.get(\"class-post-list/\"+e.courseId+\"/\");return function(e){return t.then(function(t){e({type:c,payload:t.data})})}}function p(e){return function(t){t({type:i,payload:e})}}function E(e,t){var a=n.a.post(\"create-tag/\",{courseId:e.courseId,tag:t});return function(e){return a.then(function(t){e({type:m,payload:t.data})})}}function b(e){var t=n.a.get(\"tag-list/\"+e.courseId+\"/\");return function(e){return t.then(function(t){console.log(t.data),e({type:o,payload:t.data})})}}var h=\"[ACADEMY APP] GET STUDENT RECORD\";function g(){var e=n.a.get(\"student-record/\");return function(t){return e.then(function(e){console.log(e.data),t({type:h,payload:e.data})})}}a.d(t,\"e\",function(){return r}),a.d(t,\"m\",function(){return l}),a.d(t,\"d\",function(){return c}),a.d(t,\"g\",function(){return o}),a.d(t,\"a\",function(){return i}),a.d(t,\"h\",function(){return s}),a.d(t,\"i\",function(){return u}),a.d(t,\"b\",function(){return m}),a.d(t,\"c\",function(){return d}),a.d(t,\"l\",function(){return f}),a.d(t,\"j\",function(){return p}),a.d(t,\"k\",function(){return E}),a.d(t,\"o\",function(){return b}),a.d(t,\"f\",function(){return h}),a.d(t,\"n\",function(){return g})},706:function(e,t,a){\"use strict\";var n=a(36),r=a(8),l=a(686),c={data:null,categories:[]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.e:return Object(r.a)({},e,{data:t.payload});default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.d:return Object(r.a)({},e,{postList:t.payload});case l.a:return Object(r.a)({},e,{postList:e.postList.concat(t.payload)});case l.g:return Object(r.a)({},e,{tagList:t.payload});case l.h:return Object(r.a)({},t.payload);case l.i:return Object(r.a)({},e,t.payload);case l.b:return Object(r.a)({},e,{tagList:e.tagList.concat(t.payload)});case l.c:return e.postList[t.payload.serialNum].comments=t.payload.comments,Object(r.a)({},e);default:return e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.f:return Object(r.a)({},e,{data:t.payload});default:return e}},u=Object(n.d)({courses:o,course:i,crp:s});t.a=u}}]);","extractedComments":[]}