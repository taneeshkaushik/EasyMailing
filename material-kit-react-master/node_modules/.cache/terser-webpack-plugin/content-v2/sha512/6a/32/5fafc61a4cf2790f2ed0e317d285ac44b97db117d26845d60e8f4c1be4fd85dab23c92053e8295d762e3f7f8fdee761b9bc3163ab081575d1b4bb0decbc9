{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1086:function(e,t,a){\"use strict\";a.r(t);var n=a(24),l=a(17),c=a(0),r=a.n(c),o=a(42),i=a(98),s=a(750),u=a(606),m=a(666),d=a(684),f=a(677),g=a(674),h=a(65),p=a.n(h),b=a(122),v=a(671),E=a(749),j=a(793),y=(a(137),a(803)),O=a(804),w=a(669),x=a(976);function S(e){return r.a.createElement(x.a,{display:\"flex\",alignItems:\"center\"},r.a.createElement(x.a,{width:\"100%\",mr:1},r.a.createElement(w.a,Object.assign({variant:\"determinate\",color:\"secondary\"},e))),r.a.createElement(x.a,{minWidth:35},r.a.createElement(i.a,{variant:\"body2\",color:\"textSecondary\"},\"\".concat(Math.round(e.value),\"%\"))))}var k=Object(E.a)({root:{width:\"100%\"}});function I(e){var t=k();return r.a.createElement(\"div\",{className:t.root},r.a.createElement(S,{value:e.progress}))}var N=a(878),C=a.n(N),A=a(1005),T=Object(E.a)(function(e){return{button:{margin:e.spacing(1)},input:{display:\"none\"}}});function U(e){var t=T(),a=r.a.useState({}),n=Object(l.a)(a,2),o=(n[0],n[1]),i=Object(c.useState)(),s=Object(l.a)(i,2),m=(s[0],s[1]),d=Object(c.useState)(!1),f=Object(l.a)(d,2),g=(f[0],f[1]),h=Object(c.useState)(!1),E=Object(l.a)(h,2),w=(E[0],E[1]),x=Object(c.useState)(0),S=Object(l.a)(x,2),k=S[0],N=S[1],U=[\"https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest\"],H=Object(c.useState)(),P=Object(l.a)(H,2),R=(P[0],P[1],function(){g(!0),y.a.client.init({apiKey:\"AIzaSyAeYEXpe2vPm2gEcYQk_EG6tWLmAjkjtJI\",clientId:\"1067508074985-pgsioeadhbkpv79l18dvodcunr5cgkp9.apps.googleusercontent.com\",discoveryDocs:U,scope:\"https://mail.google.com/\"}).then(function(){y.a.auth2.getAuthInstance().isSignedIn.listen(F),console.log(\"inside\"),F(y.a.auth2.getAuthInstance().isSignedIn.get())},function(e){})}),F=function(t){if(t){console.log(y.a.auth2.getAuthInstance().currentUser),m(y.a.auth2.getAuthInstance().currentUser.le.wt),g(!1),w(!0);var a=\"Subject: \"+e.subject+\"\\n\\n\";e.row.map(function(t){var n,l=\"To: <\"+t.email+\">\\n\";for(var c in l+=a+e.body+\"\\n\",t)\"email\"!=c&&-1!=e.list.indexOf(c)&&(l+=c,l+=\" :- \",l+=t[c],l+=\"\\n\");n=Object(O.a)(l),y.a.client.gmail.users.messages.send({userId:\"me\",raw:n}).then(function(t){N(function(t){return t>=100?t:t+100/e.row.length})}).catch(function(e){console.log(e)})})}else z()};var z=function(e){y.a.auth2.getAuthInstance().signIn()};return r.a.createElement(\"div\",null,r.a.createElement(\"input\",{color:\"inherit\",type:\"file\",accept:\".csv\",onChange:function(t){if(void 0!=t.target.files[0]){o({selectedFile:t.target.files[0]}),console.log(t.target.result);var a=new FileReader;a.onload=function(){var t=Object(b.a)(p.a.mark(function t(a){var n,l,c,r,o,i,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=a.target.result,console.log(n),l=Object(j.a)(n).data,console.log(l),c=[],r=[],o=0;o<l[0].length;o++)c.push({Header:l[0][o],accessor:l[0][o],sortable:!0,className:\"font-bold justify-center\"});for(console.log(c),o=1;o<l.length&&l[o].length>1;o++){for(i={},s=0;s<l[o].length;s++)i[l[0][s]]=l[o][s];r.push(i)}console.log(r),e.setColumns(c),e.setRows(r);case 12:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.readAsText(t.target.files[0]),N(0)}},onClick:function(){N(0)}}),r.a.createElement(\"label\",{htmlFor:\"outlined-button-file\"}),r.a.createElement(v.a,{variant:\"outlined\",color:\"inherit\",component:\"span\",className:t.button,onClick:function(){y.a.load(\"client:auth2\",R)}},\"Send Email\"),r.a.createElement(u.a,null,r.a.createElement(I,{color:\"secondary\",progress:k}),r.a.createElement(\"div\",{className:\"p-5\"},100==k?r.a.createElement(C.a,{color:\"secondary\"}):0!=k?r.a.createElement(A.a,{color:\"secondary\"}):null)))}function H(){Object(g.a)(function(e){return{header:{background:\"linear-gradient(to right, \"+e.palette.primary.dark+\" 0%, \"+e.palette.primary.main+\" 100%)\",color:e.palette.getContrastText(e.palette.primary.main)},headerIcon:{position:\"absolute\",top:-64,left:0,opacity:.04,fontSize:512,width:512,height:512,pointerEvents:\"none\"}}});var e=r.a.useState(null),t=Object(l.a)(e,2),a=t[0],c=t[1],h=r.a.useState(null),p=Object(l.a)(h,2),b=p[0],v=p[1],E=r.a.useState(null),j=Object(l.a)(E,2),y=j[0],O=j[1],w=r.a.useState(null),x=Object(l.a)(w,2),S=x[0],k=x[1],I=function(e){if(1==e.target.checked)console.log(e.target.name),T(function(){return[].concat(Object(n.a)(A),[e.target.name])});else{var t=[];for(var a in A)A[a]!=e.target.name&&t.push(A[a]);console.log(t),T(t)}},N=r.a.useState([]),C=Object(l.a)(N,2),A=C[0],T=C[1];return r.a.createElement(o.m,{classes:{header:\"min-h-160 h-160\"},header:r.a.createElement(\"div\",{className:\"flex flex-col justify-center flex-1 \"},r.a.createElement(o.c,null,r.a.createElement(\"div\",{className:\"flex justify-center items-center\"},r.a.createElement(i.a,{className:\"py-0 sm:py-24 text-60 text-orange\",variant:\"h4\"},\"Easy Mailing \")),r.a.createElement(\"div\",{className:\"flex justify-center items-center\"},r.a.createElement(i.a,{className:\"py-0 sm:py-24 text-20 \",variant:\"h4\"},\"Upload, Select,  Click,   Boom!!!! Mails Sent \")))),content:r.a.createElement(\"div\",null,r.a.createElement(\"div\",{className:\"flex justify-center p-24\"},null==b&&null==a?r.a.createElement(i.a,{color:\"inherit\",className:\"text-24 sm:text-40 font-light\"},\"Upload Your File Here\"):null),r.a.createElement(o.c,{enter:{animation:\"transition.slideUpBigIn\"},className:\"flex flex-wrap py-24\"},null!=b&&null!=a?r.a.createElement(s.a,null,null!=b&&null!=a?r.a.createElement(d.a,{columns:a,data:b}):null,r.a.createElement(u.a,null,null!=b&&null!=a?a.map(function(e){return\"email\"!=e.Header?r.a.createElement(\"div\",null,r.a.createElement(f.a,{name:e.Header,onChange:I}),r.a.createElement(\"label\",null,e.Header)):null}):null,r.a.createElement(\"br\",null)),r.a.createElement(m.a,{id:\"Subject\",label:\"Subject\",helperText:\"Please select Subject of Email\",onChange:function(e){O(e.target.value)}}),r.a.createElement(\"br\",null),r.a.createElement(m.a,{id:\"body\",label:\"body\",helperText:\"Please Enter Opening Remarks of mail\",multiline:!0,onChange:function(e){k(e.target.value)}})):null),r.a.createElement(\"div\",{className:\"flex justify-center p-24\"},r.a.createElement(U,{color:\"inherit\",row:b,columns:a,subject:y,body:S,list:A,setColumns:c.bind(this),setRows:v.bind(this)})))})}a.d(t,\"default\",function(){return H})},684:function(e,t,a){\"use strict\";a.d(t,\"a\",function(){return i});var n=a(0),l=a.n(n),c=a(42),r=(a(5),a(234)),o=(a(66),a(671));a(695);function i(e){return console.log(e.data,\"jkjhdafkjagljkafhglha;luojhgb\"),l.a.createElement(\"div\",null,l.a.createElement(o.a,{onClick:function(){var t=\"\";e.columns.forEach(function(e){var a=e.Header;t+=a+\",\"}),t+=\"\\n\";for(var a=0;a<e.data.length;a++){var n=e.data[a];e.columns.forEach(function(e){var a=n[e.accessor.toString()];t+=a+\",\"}),t+=\"\\n\"}var l=document.createElement(\"a\");l.href=\"data:text/csv;charset=utf-8,\"+encodeURI(t),l.target=\"_blank\",l.download=\"data.csv\",l.click()}},\"Export\"),l.a.createElement(c.b,{animation:\"transition.slideUpIn\",delay:300},l.a.createElement(r.b,{id:\"dataTable\",className:\"-striped -highlight h-full sm:rounded-16 overflow-hidden \",getTrProps:function(e,t,a){return{className:\"cursor-pointer\",onClick:function(e,t){}}},data:e.data,columns:e.columns,defaultPageSize:5,noDataText:\"Nothing found\"})))}},798:function(e,t){},799:function(e,t){}}]);","extractedComments":[]}