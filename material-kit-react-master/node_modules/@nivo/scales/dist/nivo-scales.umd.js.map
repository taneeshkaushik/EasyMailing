{"version":3,"file":"nivo-scales.umd.js","sources":["../src/linearScale.js","../src/logScale.js","../src/symlogScale.js","../src/pointScale.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../src/timeHelpers.js","../src/timeScale.js","../src/bandScale.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/compute.js","../src/index.js"],"sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleLinear } from 'd3-scale'\nimport PropTypes from 'prop-types'\n\nexport const linearScale = (\n    { axis, min = 0, max = 'auto', stacked = false, reverse = false },\n    xy,\n    width,\n    height\n) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    let minValue = min\n    if (min === 'auto') {\n        minValue = stacked === true ? values.minStacked : values.min\n    }\n    let maxValue = max\n    if (max === 'auto') {\n        maxValue = stacked === true ? values.maxStacked : values.max\n    }\n\n    const scale = scaleLinear().rangeRound(axis === 'x' ? [0, size] : [size, 0])\n\n    if (reverse === true) scale.domain([maxValue, minValue])\n    else scale.domain([minValue, maxValue])\n\n    scale.type = 'linear'\n    scale.stacked = stacked\n\n    return scale\n}\n\nexport const linearScalePropTypes = {\n    type: PropTypes.oneOf(['linear']).isRequired,\n    min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n    max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n    stacked: PropTypes.bool,\n    reverse: PropTypes.bool,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleLog } from 'd3-scale'\nimport PropTypes from 'prop-types'\n\nexport const logScale = ({ axis, base = 10, min = 'auto', max = 'auto' }, xy, width, height) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    const hasZero = values.all.some(v => v === 0)\n    let sign\n    let hasMixedSign = false\n    values.all\n        .filter(v => v != null)\n        .forEach(v => {\n            if (hasMixedSign === true) return\n            if (sign === undefined) {\n                sign = Math.sign(v)\n            } else if (Math.sign(v) !== sign) {\n                hasMixedSign = true\n            }\n        })\n\n    if (hasZero || hasMixedSign) {\n        throw new Error(\n            [\n                `a log scale domain must be strictly-positive or strictly-negative,`,\n                `and must not include or cross zero.`,\n            ].join('\\n')\n        )\n    }\n\n    let minValue = min\n    if (min === 'auto') {\n        minValue = values.min\n    }\n    let maxValue = max\n    if (max === 'auto') {\n        maxValue = values.max\n    }\n\n    const scale = scaleLog()\n        .domain([minValue, maxValue])\n        .rangeRound(axis === 'x' ? [0, size] : [size, 0])\n        .base(base)\n        .nice()\n\n    scale.type = 'log'\n\n    return scale\n}\n\nexport const logScalePropTypes = {\n    type: PropTypes.oneOf(['log']).isRequired,\n    base: PropTypes.number,\n    min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n    max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleSymlog } from 'd3-scale'\nimport PropTypes from 'prop-types'\n\nexport const symlogScale = (\n    { axis, constant = 1, min = 'auto', max = 'auto' },\n    xy,\n    width,\n    height\n) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    let minValue = min\n    if (min === 'auto') {\n        minValue = values.min\n    }\n\n    let maxValue = max\n    if (max === 'auto') {\n        maxValue = values.max\n    }\n\n    const scale = scaleSymlog()\n        .domain([minValue, maxValue])\n        .constant(constant)\n        .rangeRound(axis === 'x' ? [0, size] : [size, 0])\n        .nice()\n\n    scale.type = 'symlog'\n\n    return scale\n}\n\nexport const symLogScalePropTypes = {\n    type: PropTypes.oneOf(['symlog']).isRequired,\n    constant: PropTypes.number,\n    min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n    max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scalePoint } from 'd3-scale'\nimport PropTypes from 'prop-types'\n\nexport const pointScale = ({ axis }, xy, width, height) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    const scale = scalePoint().range([0, size]).domain(values.all)\n\n    scale.type = 'point'\n\n    return scale\n}\n\nexport const pointScalePropTypes = {\n    type: PropTypes.oneOf(['point']).isRequired,\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { timeParse, utcParse } from 'd3-time-format'\n\nexport const TIME_PRECISION_MILLISECOND = 'millisecond'\nexport const TIME_PRECISION_SECOND = 'second'\nexport const TIME_PRECISION_MINUTE = 'minute'\nexport const TIME_PRECISION_HOUR = 'hour'\nexport const TIME_PRECISION_DAY = 'day'\nexport const TIME_PRECISION_MONTH = 'month'\nexport const TIME_PRECISION_YEAR = 'year'\n\nexport const timePrecisions = [\n    TIME_PRECISION_MILLISECOND,\n    TIME_PRECISION_SECOND,\n    TIME_PRECISION_MINUTE,\n    TIME_PRECISION_HOUR,\n    TIME_PRECISION_DAY,\n    TIME_PRECISION_MONTH,\n    TIME_PRECISION_YEAR,\n]\n\nexport const precisionCutOffs = [\n    date => date.setMilliseconds(0),\n    date => date.setSeconds(0),\n    date => date.setMinutes(0),\n    date => date.setHours(0),\n    date => date.setDate(1),\n    date => date.setMonth(0),\n]\n\nexport const precisionCutOffsByType = {\n    [TIME_PRECISION_MILLISECOND]: [],\n    [TIME_PRECISION_SECOND]: precisionCutOffs.slice(0, 1),\n    [TIME_PRECISION_MINUTE]: precisionCutOffs.slice(0, 2),\n    [TIME_PRECISION_HOUR]: precisionCutOffs.slice(0, 3),\n    [TIME_PRECISION_DAY]: precisionCutOffs.slice(0, 4),\n    [TIME_PRECISION_MONTH]: precisionCutOffs.slice(0, 5),\n    [TIME_PRECISION_YEAR]: precisionCutOffs.slice(0, 6),\n}\n\nexport const createPrecisionMethod = precision => date => {\n    precisionCutOffsByType[precision].forEach(cutOff => {\n        cutOff(date)\n    })\n    return date\n}\n\nexport const createDateNormalizer = ({\n    format = 'native',\n    precision = 'millisecond',\n    useUTC = true,\n}) => {\n    const precisionFn = createPrecisionMethod(precision)\n    if (format === 'native') return v => precisionFn(v)\n\n    const parseTime = useUTC ? utcParse(format) : timeParse(format)\n    return v => precisionFn(parseTime(v))\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleTime, scaleUtc } from 'd3-scale'\nimport PropTypes from 'prop-types'\nimport { createDateNormalizer, timePrecisions, TIME_PRECISION_MILLISECOND } from './timeHelpers'\n\nexport const timeScale = (\n    {\n        axis,\n        format = 'native',\n        precision = TIME_PRECISION_MILLISECOND,\n        min = 'auto',\n        max = 'auto',\n        useUTC = true,\n    },\n    xy,\n    width,\n    height\n) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    const normalize = createDateNormalizer({ format, precision, useUTC })\n\n    let minValue = min\n    if (min === 'auto') {\n        minValue = values.min\n    } else if (format !== 'native') {\n        minValue = normalize(min)\n    }\n\n    let maxValue = max\n    if (max === 'auto') {\n        maxValue = values.max\n    } else if (format !== 'native') {\n        maxValue = normalize(max)\n    }\n\n    const scale = useUTC ? scaleUtc() : scaleTime()\n    scale.domain([minValue, maxValue]).range([0, size])\n\n    scale.type = 'time'\n    scale.useUTC = useUTC\n\n    return scale\n}\n\nexport const timeScalePropTypes = {\n    type: PropTypes.oneOf(['time']).isRequired,\n    format: PropTypes.string,\n    precision: PropTypes.oneOf(timePrecisions),\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const bandScalePropTypes = {\n    type: PropTypes.oneOf(['band']).isRequired,\n    round: PropTypes.bool,\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport uniq from 'lodash/uniq'\nimport uniqBy from 'lodash/uniqBy'\nimport sortBy from 'lodash/sortBy'\nimport last from 'lodash/last'\nimport isDate from 'lodash/isDate'\nimport { linearScale } from './linearScale'\nimport { logScale } from './logScale'\nimport { symlogScale } from './symlogScale'\nimport { pointScale } from './pointScale'\nimport { timeScale } from './timeScale'\nimport { createDateNormalizer } from './timeHelpers'\n\nexport const getOtherAxis = axis => (axis === 'x' ? 'y' : 'x')\n\nexport const compareValues = (a, b) => a === b\nexport const compareDateValues = (a, b) => a.getTime() === b.getTime()\n\nexport const computeXYScalesForSeries = (_series, xScaleSpec, yScaleSpec, width, height) => {\n    const series = _series.map(serie => ({\n        ...serie,\n        data: serie.data.map(d => ({ data: { ...d } })),\n    }))\n\n    let xy = generateSeriesXY(series, xScaleSpec, yScaleSpec)\n    if (xScaleSpec.stacked === true) {\n        stackX(yScaleSpec.type, xy, series)\n    }\n    if (yScaleSpec.stacked === true) {\n        stackY(xScaleSpec.type, xy, series)\n    }\n\n    const xScale = computeScale({ ...xScaleSpec, axis: 'x' }, xy, width, height)\n    const yScale = computeScale({ ...yScaleSpec, axis: 'y' }, xy, width, height)\n\n    series.forEach(serie => {\n        serie.data.forEach(d => {\n            d.position = {\n                x:\n                    xScale.stacked === true\n                        ? d.data.xStacked === null\n                            ? null\n                            : xScale(d.data.xStacked)\n                        : d.data.x === null\n                        ? null\n                        : xScale(d.data.x),\n                y:\n                    yScale.stacked === true\n                        ? d.data.yStacked === null\n                            ? null\n                            : yScale(d.data.yStacked)\n                        : d.data.y === null\n                        ? null\n                        : yScale(d.data.y),\n            }\n        })\n    })\n\n    return {\n        ...xy,\n        series,\n        xScale,\n        yScale,\n    }\n}\n\nexport const computeScale = (spec, xy, width, height) => {\n    if (spec.type === 'linear') return linearScale(spec, xy, width, height)\n    else if (spec.type === 'point') return pointScale(spec, xy, width, height)\n    else if (spec.type === 'time') return timeScale(spec, xy, width, height)\n    else if (spec.type === 'log') return logScale(spec, xy, width, height)\n    else if (spec.type === 'symlog') return symlogScale(spec, xy, width, height)\n}\n\nexport const generateSeriesXY = (series, xScaleSpec, yScaleSpec) => ({\n    x: generateSeriesAxis(series, 'x', xScaleSpec),\n    y: generateSeriesAxis(series, 'y', yScaleSpec),\n})\n\n/**\n * Normalize data according to scale type, (time => Date, linear => Number)\n * compute sorted unique values and min/max.\n */\nexport const generateSeriesAxis = (\n    series,\n    axis,\n    scaleSpec,\n    {\n        getValue = d => d.data[axis],\n        setValue = (d, v) => {\n            d.data[axis] = v\n        },\n    } = {}\n) => {\n    if (scaleSpec.type === 'linear') {\n        series.forEach(serie => {\n            serie.data.forEach(d => {\n                setValue(d, getValue(d) === null ? null : parseFloat(getValue(d)))\n            })\n        })\n    } else if (scaleSpec.type === 'time' && scaleSpec.format !== 'native') {\n        const parseTime = createDateNormalizer(scaleSpec)\n        series.forEach(serie => {\n            serie.data.forEach(d => {\n                setValue(d, getValue(d) === null ? null : parseTime(getValue(d)))\n            })\n        })\n    }\n\n    let all = []\n    series.forEach(serie => {\n        serie.data.forEach(d => {\n            all.push(getValue(d))\n        })\n    })\n\n    let min, max\n    if (scaleSpec.type === 'linear') {\n        all = uniq(all)\n        all = sortBy(all, v => v)\n        min = Math.min(...all)\n        max = Math.max(...all)\n    } else if (scaleSpec.type === 'time') {\n        all = uniqBy(all, v => v.getTime())\n        all = all\n            .slice(0)\n            .sort((a, b) => b - a)\n            .reverse()\n        min = all[0]\n        max = last(all)\n    } else {\n        all = uniq(all)\n        min = all[0]\n        max = last(all)\n    }\n\n    return { all, min, max }\n}\n\nexport const stackAxis = (axis, otherType, xy, series) => {\n    const otherAxis = getOtherAxis(axis)\n\n    let all = []\n    xy[otherAxis].all.forEach(v => {\n        const compare = isDate(v) ? compareDateValues : compareValues\n        const stack = []\n        series.forEach(serie => {\n            const datum = serie.data.find(d => compare(d.data[otherAxis], v))\n            let value = null\n            let stackValue = null\n            if (datum !== undefined) {\n                value = datum.data[axis]\n                if (value !== null) {\n                    const head = last(stack)\n                    if (head === undefined) {\n                        stackValue = value\n                    } else if (head !== null) {\n                        stackValue = head + value\n                    }\n                }\n                datum.data[`${axis}Stacked`] = stackValue\n            }\n            stack.push(stackValue)\n            all.push(stackValue)\n        })\n    })\n    all = all.filter(v => v !== null)\n\n    xy[axis].minStacked = Math.min(...all)\n    xy[axis].maxStacked = Math.max(...all)\n}\n\nexport const stackX = (xy, otherType, series) => stackAxis('x', xy, otherType, series)\nexport const stackY = (xy, otherType, series) => stackAxis('y', xy, otherType, series)\n\nexport const computeAxisSlices = (axis, data) => {\n    const otherAxis = getOtherAxis(axis)\n\n    return data[otherAxis].all.map(v => {\n        const slice = {\n            id: v,\n            [otherAxis]: data[`${otherAxis}Scale`](v),\n            data: [],\n        }\n        const compare = isDate(v) ? compareDateValues : compareValues\n        data.series.forEach(serie => {\n            const datum = serie.data.find(d => compare(d.data[otherAxis], v))\n            if (datum !== undefined) {\n                slice.data.push({\n                    ...datum,\n                    serie,\n                })\n            }\n        })\n        slice.data.reverse()\n\n        return slice\n    })\n}\n\nexport const computeXSlices = data => computeAxisSlices('x', data)\nexport const computeYSlices = data => computeAxisSlices('y', data)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { linearScalePropTypes } from './linearScale'\nimport { logScalePropTypes } from './logScale'\nimport { symLogScalePropTypes } from './symlogScale'\nimport { pointScalePropTypes } from './pointScale'\nimport { timeScalePropTypes } from './timeScale'\nimport { bandScalePropTypes } from './bandScale'\n\nexport * from './compute'\nexport * from './linearScale'\nexport * from './logScale'\nexport * from './symlogScale'\nexport * from './pointScale'\nexport * from './timeScale'\nexport * from './timeHelpers'\nexport * from './bandScale'\n\nexport const scalePropType = PropTypes.oneOfType([\n    PropTypes.shape(linearScalePropTypes),\n    PropTypes.shape(pointScalePropTypes),\n    PropTypes.shape(timeScalePropTypes),\n    PropTypes.shape(logScalePropTypes),\n    PropTypes.shape(symLogScalePropTypes),\n    PropTypes.shape(bandScalePropTypes),\n])\n"],"names":["linearScale","xy","width","height","axis","min","max","stacked","reverse","values","size","minValue","minStacked","maxValue","maxStacked","scale","scaleLinear","rangeRound","domain","type","linearScalePropTypes","PropTypes","oneOf","isRequired","oneOfType","number","bool","logScale","base","hasZero","all","some","v","sign","hasMixedSign","filter","forEach","undefined","Math","Error","join","scaleLog","nice","logScalePropTypes","symlogScale","constant","scaleSymlog","symLogScalePropTypes","pointScale","scalePoint","range","pointScalePropTypes","TIME_PRECISION_MILLISECOND","TIME_PRECISION_SECOND","TIME_PRECISION_MINUTE","TIME_PRECISION_HOUR","TIME_PRECISION_DAY","TIME_PRECISION_MONTH","TIME_PRECISION_YEAR","timePrecisions","precisionCutOffs","date","setMilliseconds","setSeconds","setMinutes","setHours","setDate","setMonth","precisionCutOffsByType","slice","createPrecisionMethod","precision","cutOff","createDateNormalizer","format","useUTC","precisionFn","parseTime","utcParse","timeParse","timeScale","normalize","scaleUtc","scaleTime","timeScalePropTypes","string","bandScalePropTypes","round","arrayLikeToArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","defineProperty","getOtherAxis","compareValues","a","b","compareDateValues","getTime","computeXYScalesForSeries","_series","xScaleSpec","yScaleSpec","series","map","serie","data","d","generateSeriesXY","stackX","stackY","xScale","computeScale","yScale","position","x","xStacked","y","yStacked","spec","generateSeriesAxis","scaleSpec","getValue","setValue","parseFloat","push","uniq","sortBy","uniqBy","sort","last","stackAxis","otherType","otherAxis","compare","isDate","stack","datum","find","value","stackValue","head","computeAxisSlices","id","computeXSlices","computeYSlices","scalePropType","shape"],"mappings":"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"}